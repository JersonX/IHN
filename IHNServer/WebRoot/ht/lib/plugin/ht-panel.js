!function(s,Z,C){"use strict";var _="ht",r=s[_],L=r.Default,x=L.isTouchable,H=r.Color,N="px",g="0",n="innerHTML",Y="className",f="position",y="absolute",B="width",o="height",l="left",t="top",q="right",X="bottom",R="max-width",v="max-height",E=null,S="none",i="",u=s.parseInt,K=s.setTimeout,P=L.getInternal(),I=L.animate,$=H.titleIconBackground,Q=function(){return document},m=function(B){return Q().createElement(B)},D=function(){return m("div")},k=function(){return m("canvas")},A=function(g,$,I){g.style.setProperty($,I,E)},T=function(C,V){return C.style.getPropertyValue(V)},d=function(y,p){y.appendChild(p)},W=function(o,Q){o.removeChild(Q)},h=function(_){var s=_.scrollWidth,e=_.scrollHeight;return _===Q().body&&(s=Math.max(s,Q().documentElement.scrollWidth),e=Math.max(e,Q().documentElement.scrollHeight)),{width:s,height:e}},J=function(s){var i=s.touches[0];return i?i:s.changedTouches[0]};P.addMethod(L,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:$,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:$}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:$},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:$}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:$},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:$}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:$},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:$},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:$},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:$}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:$},{type:"rect",rect:[10,118,268,56],background:$},{type:"rect",rect:[10,213,268,56],background:$}]},panelTitleLabelColor:L.labelSelectColor,panelTitleLabelFont:L.labelFont,panelContentLabelFont:L.labelFont,panelTitleBackground:H.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:C},!0);var j=r.widget.Panel=function(L){var C=this,z=C._view=D();C.$1i=0,C.$18i=new r.Notifier,C.$2i="leftTop",A(z,t,g),A(z,l,g),A(z,f,y),A(z,"overflow","hidden"),C._interactor=new c(C),C.setConfig(L),C.addEventListener(function(w){var i=C.getPanelConfig(w.id),a=i.content;("beginRestore"===w.kind||"betweenResize"===w.kind||"endToggle"===w.kind)&&(a&&a.invalidate&&a.invalidate(),i.items&&i.items.forEach(function(i){i&&i.content&&i.content.invalidate&&i.content.invalidate()}))})};L.def(j,Z,{ms_v:1,_dragContainment:"parent",setConfig:function(O){function $(G){G.expanded=!G.expanded,h.togglePanel(G.id,!0,!0)}if(O){var h=this;h._view[n]=i,h._config=O,h.$35i=[],O.expanded==E&&(O.expanded=O.expand!=E?O.expand:!0);var t=h._view,I=h.$24i(O,t,!0),m=I[2],Z=O.width;h.$35i.push(I[1]),O.items&&O.items.forEach(function(l){l.expanded==E&&(l.expanded=l.expand!=E?l.expand:!0);var N=h.$24i(l,m.children[0]);h.$35i.push(N[1])});var H=D();A(H,B,10+N),A(H,o,10+N),A(H,f,y),A(H,X,g),A(H,q,g),H[Y]="resize-area",d(t,H),h.$10i(),O.flowLayout&&A(t,f,"relative"),A(t,"opacity",g),d(Q().body,t),Z==E&&(Z=t.offsetWidth),A(t,B,Z+N),A(t,R,Z+N),O.items&&O.items.forEach(function(t){$(t)}),O.buttons&&O.buttons.indexOf("toggle")<0||$(O),O.minimized==E&&O.minimize!=E&&(O.minimized=O.minimize),O.minimized&&O.minimizable!==!1&&h.minimize(!0),W(Q().body,t),A(t,"opacity",i),h.iv()}},getPanelConfig:function(B){var j=this,M=j._config,n=M.items;if(M.id===B)return M;if(n)for(var _=0;_<n.length;_++){var U=n[_];if(U.id===B)return U}},getPanelView:function(A){for(var u=this,U=u.$35i,g=0;g<U.length;g++){var p=U[g],l=p.parentNode;if(l.$15i===A)return l}},setDragContainment:function(A){this._dragContainment=A},getDragContainment:function(){return this._dragContainment},$20i:function(){var w=this._config,N=w.restoreIconSize||24;return N},$5i:function(Z){var u=Z.titleIconSize||16;return x&&(u*=1.2),u},$4i:function(a){var o=a.titleHeight||L.widgetTitleHeight;return o},setTitle:function(Z,K){if(K==E&&(K=this._config.id),K!=E){var M=this.getPanelConfig(K),L=this.getPanelView(K);M.title=Z,L.querySelector(".panel-title span").innerHTML=Z}},setInnerPanel:function($){var w,j,Q=this,n=$.id,g=Q.$35i,J=!1;if($.expanded==E&&($.expanded=!0),n!=E){var S=Q.getPanelConfig(n);if(S){J=!0;var M,O=Q.getPanelView(n),r=O.parentNode,R=O.children[0];if(O!==Q._view){Q.$11i();for(M in S)delete S.key;for(M in $)S[M]=$[M];w=Q.$24i($,r,!1,O),j=w[1],r.removeChild(O);for(var B=0;B<g.length;B++)if(g[B]===R){g.splice(B,1,j);break}Q.$12i(),S.expanded=!S.expanded,Q.togglePanel(S.id,!0,!0),Q.iv()}}}if(!J){Q.$11i(),w=Q.$24i($,Q._view.children[1]),j=w[1],g.push(j),Q._config.items||(Q._config.items=[]);var c=Q._config.items;if(c.push($),Q.$12i(),c.length>1){var s=c[c.length-2],e=Q.getPanelView(s.id).children[0];A(e,"border-bottom",Q.$55i(s))}$.expanded=!$.expanded,Q.togglePanel($.id,!0,!0),Q.iv()}},removeInnerPanel:function(e){var f,t=this,m=-1,j=t._config.items;if(j)for(f=0;f<j.length;f++){var p=j[f];if(p.id===e){m=f;break}}if(t.$11i(),m>=0){var u=t.$35i,L=t.getPanelView(e),x=L.children[0];for(f=0;f<u.length;f++)if(u[f]===x){u.splice(f,1);break}j.splice(m,1),L.parentNode.removeChild(L)}if(t.$12i(),j.length>0){var V=j[j.length-1],y=t.getPanelView(V.id).children[0];A(y,"border-bottom",t.$55i(V))}},$6i:function(Y){A(Y,"cursor","pointer"),A(Y,"display","inline-block"),A(Y,"margin-right",(x?8:4)+N),A(Y,"vertical-align",t)},$24i:function(V,K,w,G){var i=this,M=i._config.flowLayout,g=w?K:D(),O=i.$50i(V),f=i.$3i(V,w);g[Y]="ht-widget-panel"+(w?" outer-panel":" inner-panel"),V.borderWidth==E&&(V.borderWidth=w?2:0);var F=V.borderWidth;if(F="0 "+F+N+" "+F+N+" "+F+N+" ",A(g,"padding",F),d(g,f),d(g,O),w||(G?K.insertBefore(g,G):d(K,g)),!M&&w&&V.minimizable!==!1){var z=k(),H=i.$20i(),l=V.restoreToolTip;P.setCanvas(z,H,H),z[Y]="control-button button-minimize button-minimize-restore",i.$6i(z),A(z,"display","none"),d(K,z),z.title=l||""}var h=V.titleBackground||L.panelTitleBackground;if(A(g,"background-color",h),V.id==E){for(var o=i.$1i++;i.getPanelConfig(o);)o=i.$1i++;V.id=o}return g.$15i=V.id,V.width&&(g.style.width=V.width+N),[g,f,O]},$9i:function(m){var U=k();U[Y]="control-button button-toggle button-toggle-expand",U.title=m.toggleToolTip||"";var p=this.$4i(m),N=this.$5i(m);return this.$6i(U),P.setCanvas(U,N,p),U},$8i:function(z){var x=k(),G="control-button button-independent-switch";x[Y]=z.independent===!0?G+" button-independent-switch-on":G+" button-independent-switch-off",x.title=z.independentSwitchToolTip||"";var n=this.$4i(z),e=this.$5i(z);return this.$6i(x),P.setCanvas(x,e,n),x},$7i:function(c){var b=k();b[Y]="control-button button-minimize button-minimize-minimize",b.title=c.minimizeToolTip||"";var C=this.$4i(c),r=this.$5i(c);return this.$6i(b),P.setCanvas(b,r,C),b},$55i:function(P){var U=this._config,q=U.items,J=P.separatorWidth||L.panelSeparatorWidth,m=P.titleBackground||L.panelTitleBackground,Z=P.expanded!==!1?m:P.separatorColor||L.panelSeparatorColor||L.brighter(m);return(U===P||q&&q.indexOf(P)===q.length-1)&&(J=0),J+N+" solid "+Z},$3i:function(T,Z){var b=this,w=b._config.flowLayout,E=D(),F=D(),i=b.$4i(T),p=T.titleBackground,K=T.titleColor,s=T.titleIcon,S=T.buttons;if(E[Y]="panel-title",A(E,f,"relative"),A(E,"background",p||L.panelTitleBackground),A(E,"color",K||L.panelTitleLabelColor),A(E,t,g),A(E,"box-sizing","border-box"),A(E,"-moz-box-sizing","border-box"),A(E,"padding","0 5px 0 0"),A(E,B,"100%"),A(E,"cursor","default"),A(E,"white-space","nowrap"),A(E,"font",L.panelTitleLabelFont),s){var z=k();z[Y]="control-button panel-title-icon";var O=b.$4i(T),H=b.$5i(T);b.$6i(z),P.setCanvas(z,H,O),d(E,z)}var R=m("span");A(R,"display","inline-block"),A(R,"margin-left","5px"),R[n]="<span>"+T.title+"</span>",d(E,R),A(E,"line-height",i+N),F[Y]="panel-title-controls",A(F,f,y),A(F,l,g),A(F,q,5+N),A(F,t,g),A(F,X,g),A(F,"text-align",q);var G=function(){var P=b.$9i(T);d(F,P)},Q=function(){if(!w&&Z&&T.minimizable!==!1){var P=b.$7i(T);d(F,P)}},x=function(){if(!Z){var i=b.$8i(T);d(F,i)}},r=function(z){var q=k();q[Y]="control-button custombutton-"+z.name,q.title=z.toolTip||"",q._action=z.action;var M=b.$4i(T),w=b.$5i(T);b.$6i(q),P.setCanvas(q,w,M),d(F,q)};if(S)for(var I=0;I<S.length;I++){var u=S[I];"string"==typeof u?"minimize"===u?Q():"independentSwitch"===u?x():"toggle"===u&&G():"object"==typeof u&&r(u)}else Q(),G();return d(E,F),E},$50i:function(W){var m=D(),k=W.contentHeight,l=D();if(A(l,f,"relative"),m[Y]="panel-body",A(m,"overflow","hidden"),A(m,"background","white"),A(m,"font",L.panelContentLabelFont),d(m,l),W.content){var G;W.content.getView?(d(l,W.content.getView()),G=l.children[0]):W.content instanceof Element?(d(l,W.content),G=l.children[0]):l[n]=W.content,G&&(A(G,B,"100%"),A(G,o,"100%")),k&&A(l,o,k+N)}return m},$10i:function(){var r=this,z=r._config,v=r._view,C=v.querySelector(".resize-area").style;C.display=z.flowLayout||z.minimized===!0||z.expanded===!1?S:"block"},$11i:function(){var d=this._view,X=d.children[1];this.$13i>=0?this.$13i++:this.$13i=1,A(X,v,i),A(d,R,i)},$12i:function(){var r=--this.$13i;if(0===r){var E=this._view,g=E.children[1];A(g,v,g.scrollHeight+N),A(E,R,E.offsetWidth+N)}},$14i:function(){var o=this._view,B=o.children[0],P=B.children[1].children,O=this._config,E=0;o.$26i=o.offsetWidth,E+=B.children[0].offsetWidth,O.titleIcon&&(E+=B.children[1].offsetWidth,P=B.children[2].children);for(var m=0;m<P.length;m++){var R=P[m];E+=R.offsetWidth+5}o.$51i=E+15},togglePanel:function(x,$,M){function G(m){var G=m.target,K=G.parentNode,U=D.getPanelConfig(K.$15i);delete K.$19i,G!==X&&D.$12i(),D.$18i.fire({kind:"endToggle",target:D,id:U.id})}for(var D=this,p=D._view,X=p.children[1],n=E,Z=D.$35i,t=Z.length,U=D._config.exclusive,S=D.$2i,y=[],r=D._config.narrowWhenCollapse,O=0;t>O;O++){var j=Z[O],o=j.parentNode,d=o.$15i,l=D.getPanelConfig(d);d===x&&(n=o),!$&&U&&l.expanded&&o!==p&&d!==x&&l.independent!==!0&&y.push(o)}if(n&&!n.$19i){n.$19i=!0;var K=n.children[1],f=n.querySelector(".button-toggle"),b=D.getPanelConfig(n.$15i);if(!f)return;n===p||b.expanded||b.independent===!0||y.forEach(function(Q){D.togglePanel(Q.$15i,!0)}),n!==p&&D.$11i();var k=200;if(M&&(k=0),D.$18i.fire({kind:"beginToggle",target:D,id:n.$15i}),b.expanded){var C=function(){f[Y]="control-button button-toggle",f[Y]+=S.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",A(K,B,K.clientWidth+N),b.expanded=!1,A(n.children[0],"border-bottom",D.$55i(b)),I(K).duration(k).set("opacity",g).set(v,g).end(G),r&&n===p&&I(n).duration(k).set(R,n.$51i+N).end(),n[Y]+=" panel-collapse",I(n).duration(k).set("padding-bottom",g).end(),D.$28i(b,!0),D.$10i()};r&&n===p&&D.$14i(),C()}else f[Y]="control-button button-toggle",f[Y]+=S.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",A(K,B,i),b.expanded=!0,A(n.children[0],"border-bottom",D.$55i(b)),I(K).duration(k).set("opacity","1").set(v,K.scrollHeight+N).end(G),r&&n===p&&I(n).duration(k).set(R,(n.$26i||n.offsetWidth)+N).end(),n[Y]=n[Y].replace(" panel-collapse",i),I(n).duration(k).set("padding-bottom",b.borderWidth+N).end(),D.$28i(b,!0),D.$10i()}},$16i:function(){var H=this._view,X=H.$22i,p=H.$23i,R=this.$2i;return X==E&&(R.indexOf(l)>=0?X=H.$22i=0:R.indexOf(q)>=0&&(X=H.$22i=100)),p==E&&(R.indexOf("Top")>=0?p=H.$23i=0:R.indexOf("Bottom")>=0&&(p=H.$23i=100)),[X,p]},$25i:function(){var E=this,M=E._view,j=M.$21i,o=E.$20i(),c=E.$16i(),n=c[0],d=c[1],p=E.$2i;M.children[0].style.display=S,M.children[1].style.display=S,M.children[2].style.display=i,A(M,"padding",g),A(M,R,o+N),"leftTop"===p?(A(M,l,u(T(M,l))+(j.width-o)*n/100+N),A(M,t,u(T(M,t))+(j.height-o)*d/100+N)):"leftBottom"===p?(A(M,l,u(T(M,l))+(j.width-o)*n/100+N),A(M,X,u(T(M,X))+(j.height-o)*(1-d/100)+N)):"rightTop"===p?(A(M,q,u(T(M,q))+(j.width-o)*(1-n/100)+N),A(M,t,u(T(M,t))+(j.height-o)*d/100+N)):"rightBottom"===p&&(A(M,q,u(T(M,q))+(j.width-o)*(1-n/100)+N),A(M,X,u(T(M,X))+(j.height-o)*(1-d/100)+N)),M[Y]+=" panel-minimized",E.$18i.fire({kind:"endMinimize",target:E,id:M.$15i})},$17i:function(){var V=this,h=V._config,R=V._view;A(R,"-webkit-transform",i),A(R,"-ms-transform",i),A(R,"transform",i),h.minimized?V.$25i():(V.$18i.fire({kind:"endRestore",target:V,id:h.id}),R[Y]=R[Y].replace(" panel-minimized",i)),delete R.$19i},minimize:function(V){var J=this,e=J._view;if(!e.$19i&&e.children[0].style.display!==S){var N=J._config,Z=e.getBoundingClientRect(),m=J.$20i(),t=Z.width,X=Z.height,o=m/t,c=m/X,d=J.$16i(),j=d[0],u=d[1];e.$52i=o,e.$53i=c,e.$21i=Z,J.$18i.fire({kind:"beginMinimize",target:J,id:e.$15i});var s=200;V&&(s=0),N.minimized=!0,e.$19i=!0,N.expanded&&(e.$26i=e.offsetWidth);var R=j+"% "+u+"%";A(e,"-webkit-transform-origin",R),A(e,"-ms-transform-origin",R),A(e,"transform-origin",R),I(e).duration(s).scale(o,c).end(function(){J.$17i()}),J.$10i()}},restore:function(){var o,H,M,a,c,n,d,r,w,J,e,j,x=this,P=x._view,$=P.parentNode,z=x._config;if(!P.$19i&&z.minimized){var V=P.$21i,m=P.$52i,C=P.$53i,i=z.borderWidth+N,v=i,_=i,B=0,W=x.$20i(),D=h($),g=x.$2i;"leftTop"===g?(o=u(T(P,l)),M=u(T(P,t)),c=o,d=M,w=o+V.width-D.width,J=M+V.height-D.height,w>0&&(w>=o?o=0:o-=w),J>0&&(J>=M?M=0:M-=J),e=100*((c-o)/(V.width-W)),j=100*((d-M)/(V.height-W)),A(P,l,o+N),A(P,t,M+N)):"leftBottom"===g?(o=u(T(P,l)),a=u(T(P,X)),c=o,r=a,w=o+V.width-D.width,J=a+V.height-D.height,w>0&&(w>=o?o=0:o-=w),J>0&&(J>=a?a=0:a-=J),e=100*((c-o)/(V.width-W)),j=100*(1-(r-a)/(V.height-W)),A(P,l,o+N),A(P,X,a+N)):"rightTop"===g?(H=u(T(P,q)),M=u(T(P,t)),n=H,d=M,w=H+V.width-D.width,J=M+V.height-D.height,w>0&&(w>=H?H=0:H-=w),J>0&&(J>=M?M=0:M-=J),e=100*(1-(n-H)/(V.width-W)),j=100*((d-M)/(V.height-W)),A(P,q,H+N),A(P,t,M+N)):"rightBottom"===g&&(H=u(T(P,q)),a=u(T(P,X)),n=H,r=a,w=H+V.width-D.width,J=a+V.height-D.height,w>0&&(w>=H?H=0:H-=w),J>0&&(J>=a?a=0:a-=J),e=100*(1-(n-H)/(V.width-W)),j=100*(1-(r-a)/(V.height-W)),A(P,q,H+N),A(P,X,a+N)),P.children[0].style.display="block",P.children[1].style.display="block",P.children[2].style.display=S,A(P,"padding",B+" "+v+" "+_+" "+i),A(P,"-webkit-transform","scale("+m+", "+C+")"),A(P,"-ms-transform","scale("+m+", "+C+")"),A(P,"transform","scale("+m+", "+C+")"),P.$22i=e,P.$23i=j,A(P,"-webkit-transform-origin",e+"% "+j+"%"),A(P,"-ms-transform-origin",e+"% "+j+"%"),A(P,"transform-origin",e+"% "+j+"%"),z.narrowWhenCollapse&&!z.expanded?A(P,R,P.$51i+N):A(P,R,P.$26i+N),x.$18i.fire({kind:"beginRestore",target:x,id:P.$15i}),P.$19i=!0,z.minimized=!1,K(function(){I(P).scale(1,1).end(function(){x.$17i()})},30),x.$10i()}},addEventListener:function(_,x,e){this.$18i.add(_,x,e)},removeEventListener:function(x,u){this.$18i.remove(x,u)},setPosition:function(I,O){var y=this._view,r=this.$2i;"leftTop"===r?(A(y,l,I+N),A(y,t,O+N),A(y,q,i),A(y,X,i)):"leftBottom"===r?(A(y,l,I+N),A(y,X,O+N),A(y,q,i),A(y,t,i)):"rightTop"===r?(A(y,q,I+N),A(y,t,O+N),A(y,l,i),A(y,X,i)):"rightBottom"===r&&(A(y,q,I+N),A(y,X,O+N),A(y,l,i),A(y,t,i)),delete y.$22i,delete y.$23i},getPosition:function(){var R=this._view,$=this.$2i;return"leftTop"===$?{x:u(T(R,l)),y:u(T(R,t))}:"leftBottom"===$?{x:u(T(R,l)),y:u(T(R,X))}:"rightTop"===$?{x:u(T(R,q)),y:u(T(R,t))}:"rightBottom"===$?{x:u(T(R,q)),y:u(T(R,X))}:void 0},setPositionRelativeTo:function(Q){var B=this,U=B._view.querySelectorAll(".button-toggle"),K="control-button button-toggle",g=B.getPosition();B.$2i=Q,B.setPosition(g.x,g.y);for(var c=0;c<U.length;c++){var o=U[c],h=B.getPanelConfig(o.parentNode.parentNode.parentNode.$15i);o[Y]=h.expanded?Q.indexOf("Bottom")>=0?K+" button-toggle-collapse":K+" button-toggle-expand":Q.indexOf("Bottom")>=0?K+" button-toggle-expand":K+" button-toggle-collapse"}B.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(k){var G=this;G._68I||(G._68I=1,L.callLater(G.validate,G,E,k),G.onInvalidated&&G.onInvalidated(),G._41O("invalidate"));var v=this._config,g=v.content;g&&g.invalidate&&g.invalidate(),v.items&&v.items.forEach(function(F){F&&F.content&&F.content.invalidate&&F.content.invalidate()})},$27i:function(v,S,U,m){var j=P.initContext(v);P.translateAndScale(j,0,0,1),j.clearRect(0,0,U,U);var M=(U-m)/2;L.drawStretchImage(j,L.getImage(S),"fill",0,M,m,m),j.restore()},$28i:function(h){var U,u,B,l=this,N=h.id,Z=l.getPanelView(N),o=Z.querySelector(".button-toggle"),V=l.$2i.indexOf("Bottom")>=0;if(u=V?L.panelCollapseIcon:L.panelExpandIcon,B=V?L.panelExpandIcon:L.panelCollapseIcon,o){U=h.expanded?L.getImage(B):L.getImage(u);var R=l.$4i(h),F=l.$5i(h);l.$27i(o,U,R,F)}},$29i:function(d){var g,B=this,W=d.id,K=B.getPanelView(W),r=K.querySelector(".button-independent-switch"),v=L.panelUnLockIcon,T=L.panelLockIcon;if(r){g=d.independent!==!0?L.getImage(T):L.getImage(v);var $=B.$4i(d),i=B.$5i(d);B.$27i(r,g,$,i)}},$30i:function(J){var A=this,G=J.id,B=A.getPanelView(G),E=B.querySelector(".button-minimize-minimize"),w=L.panelMinimizeIcon;if(E){var j=A.$4i(J),n=A.$5i(J);A.$27i(E,L.getImage(w),j,n)}},$31i:function(o){var V=this,J=o.id,i=V.getPanelView(J),x=i.querySelector(".button-minimize-restore"),F=o.titleIcon||L.panelRestoreIcon;if(x){var G=V.$20i();V.$27i(x,L.getImage(F),G,G)}},$32i:function(U){var Q=this,h=U.id,u=Q.getPanelView(h);if(U.buttons){var J=U.buttons;J.forEach(function(G){var e=G.name,Y=G.icon;if(e&&Y){var S=u.querySelector(".custombutton-"+e);if(S){var g=Q.$4i(U),z=Q.$5i(U)-1;Q.$27i(S,L.getImage(Y),g,z)}}})}},$33i:function(I){var b=this,s=I.id,E=b.getPanelView(s),U=E.querySelector(".panel-title-icon"),n=I.titleIcon;if(U&&n){var X=b.$4i(I),A=b.$5i(I);b.$27i(U,L.getImage(n),X,A)}},validateImpl:function(){var d=this,p=d._config;d.$28i(p),d.$30i(p),d.$31i(p),d.$32i(p),d.$33i(p),p.items&&p.items.forEach(function(m){d.$28i(m),d.$29i(m),d.$32i(m)})}});var c=function(J){var K=this,Q=J.getView();K.$34i=J,K.addListeners(),Q.addEventListener("dblclick",K.$42i.bind(K))};L.def(c,Z,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(x){for(var j=this.$34i,b=x.target,k=j.$35i,_=k.length,s=0;_>s;s++){var q=k[s];q.contains(b)&&(x.preventDefault(),j.togglePanel(q.parentNode.$15i))}},handle_touchstart:function(s){var c=this,t=c.$34i,F=t._config,h=F.flowLayout,R=s;if(L.preventDefault(s),L.isLeftButton(s)){var d=s.target,i=t.getView().children[0],Q=t.getView().querySelector(".button-minimize-restore");x&&(R=J(s));var Y=c.$40i={x:R.pageX,y:R.pageY};c.$41i={x:Y.x,y:Y.y},(!h&&i.contains(d)||Q&&Q.contains(d))&&(c.$38i=!0,L.startDragging(c,s)),!h&&c.handle_mousemove(s)&&(c.$37i=!0,L.startDragging(c,s),t.$11i())}},handle_mousedown:function(U){this.handle_touchstart(U)},handle_touchend:function(B){var N=this,S=N.$34i,K=B.target,C=S.$35i,y=C.length,F=0,s=S.getView(),l=s.querySelector(".button-minimize"),t=s.querySelector(".button-minimize-restore");if(!N.$39i&&!N.$36i){if(l&&l.contains(K)||t&&t.contains(K))B.preventDefault(),S._config.minimized?S.restore():S.minimize();else for(;y>F;F++){var D=C[F],m=D.parentNode,v=m.$15i,V=S.getPanelConfig(v),O=D.querySelector(".button-toggle"),i=D.querySelector(".button-independent-switch");if(O===K)B.preventDefault(),S.togglePanel(v);else if(i===K){B.preventDefault();var p="button-independent-switch-off",L="button-independent-switch-on";V.independent=V.independent==E?!0:!V.independent,i[Y]=V.independent?i[Y].replace(p,L):i[Y].replace(L,p),S.$29i(V)}else K[Y]&&K[Y].indexOf("control-button custombutton-")>=0&&D.contains(K)&&K._action.call(S,V,S.getPanelView(v),B)}delete N.$40i,delete N.$41i}},handle_mouseup:function(i){this.handle_touchend(i)},handleWindowTouchEnd:function(){var u=this,I=u.$34i;u.$37i&&u.$36i?(I.$18i.fire({kind:"endResize",target:I,id:I.getView().$15i}),I.$12i()):u.$38i&&u.$39i&&I.$18i.fire({kind:"endMove",target:I,id:I.getView().$15i}),this.clear()},handleWindowMouseUp:function(n){this.handleWindowTouchEnd(n)},handle_mousemove:function(K){var g=this,U=g.getView(),w=U.querySelector(".resize-area"),N=w.getBoundingClientRect(),o={x:N.left,y:N.top,width:N.width,height:N.height};K=x?J(K):K;var O=K.clientX,p=K.clientY,X=g.$34i._config;return X.expanded&&X.minimized!==!0&&L.containsPoint(o,{x:O,y:p})?(U.style.cursor="nwse-resize",!0):(U.style.cursor=i,void 0)},handleWindowTouchMove:function(W){W.preventDefault();var g=W;x&&(g=J(W));var d=this,M=d.$40i,I=d.$41i;if(!(I.x==M.x&&I.y==M.y&&L.getDistance(I,{x:g.pageX,y:g.pageY})<=1)){var U=d.$34i,K=d.getView(),G=K.parentNode,R=U._config,k=R.resizeMode||"wh",V=g.pageX-M.x,w=g.pageY-M.y,s=U.$2i;if(d.$37i){var n=K.children[1].children[0],v=n.clientWidth,b=n.clientHeight,$=v+V,Q=b+w;$=Math.max($,100),Q=Math.max(Q,100),"w"===k?(A(K,B,$+N),R.width=$,M.x+=$-v,s.indexOf(q)>=0&&A(K,q,u(T(K,q))-($-v)+N)):"h"===k?(A(n,o,Q+N),R.contentHeight=Q,M.y+=Q-b,s.indexOf("Bottom")>=0&&A(K,X,u(T(K,X))-(Q-b)+N)):"wh"===k&&(A(K,B,$+N),A(n,o,Q+N),R.width=$,R.contentHeight=Q,M.x+=$-v,M.y+=Q-b,s.indexOf("right")>=0&&A(K,q,u(T(K,q))-($-v)+N),s.indexOf("Bottom")>=0&&A(K,X,u(T(K,X))-(Q-b)+N)),d.$36i?U.$18i.fire({kind:"betweenResize",target:U,id:U.getView().$15i}):(d.$36i=!0,U.$18i.fire({kind:"beginResize",target:U,id:U.getView().$15i}))}else if(d.$38i){var F,D,r,E,P,O,H,i,S,j,y=K.getBoundingClientRect(),C=y.width,a=y.height,z=h(G),Z=z.width,e=z.height,f=U._dragContainment;"leftTop"===s?(F=u(T(K,l))||0,r=u(T(K,t))||0,P=F+V,H=r+w,"parent"===f&&(P+C>Z&&(P=Z-C),H+a>e&&(H=e-a),0>P&&(P=0),0>H&&(H=0)),S=P-F,j=H-r,U.setPosition(P,H),M.x+=S,M.y+=j):"rightBottom"===s?(D=u(T(K,q))||0,E=u(T(K,X))||0,O=D-V,i=E-w,"parent"===f&&(0>O&&(O=0),0>i&&(i=0),O+C>Z&&(O=Z-C),i+a>e&&(i=e-a)),S=O-D,j=i-E,U.setPosition(O,i),M.x-=S,M.y-=j):"rightTop"===s?(D=u(T(K,q))||0,r=u(T(K,t))||0,O=D-V,H=r+w,"parent"===f&&(0>O&&(O=0),0>H&&(H=0),O+C>Z&&(O=Z-C),H+a>e&&(H=e-a)),S=O-D,j=H-r,U.setPosition(O,H),M.x-=S,M.y+=j):"leftBottom"===s&&(F=u(T(K,l))||0,E=u(T(K,X))||0,P=F+V,i=E-w,"parent"===f&&(0>P&&(P=0),0>i&&(i=0),P+C>Z&&(P=Z-C),i+a>e&&(i=e-a)),S=P-F,j=i-E,U.setPosition(P,i),M.x+=S,M.y-=j),d.$39i?U.$18i.fire({kind:"betweenMove",target:U,id:U.getView().$15i}):(d.$39i=!0,U.$18i.fire({kind:"beginMove",target:U,id:U.getView().$15i}))}}},handleWindowMouseMove:function(g){this.handleWindowTouchMove(g)}});var M=r.widget.PanelGroup=function(G){var h=this,k=h._view=D();k.style.border="1px dashed black",k.style.position="absolute",k.style.background="rgba(120, 120, 120, 0.4)",h.$48i=new r.List,h._tolerance=100,h._config=G||{hGap:0,vGap:0},h.bindHandlePanelMove=h.handlePanelMove.bind(h),h.bindHandlePanelEvent=h.handlePanelEvent.bind(h),h.invalidate()};L.def(M,Z,{invalidate:function(){var m=this;m._68I||(m._68I=1,K(function(){m.validate()},50))},validate:function(){if(this._68I){delete this._68I;var n=this.$48i.get(0);if(n){var v=n.getView().parentNode;v&&(this.layoutPanels(v,"leftTop"),this.layoutPanels(v,"rightTop"),this.layoutPanels(v,"leftBottom"),this.layoutPanels(v,"rightBottom"))}}},setLeftTopPanels:function(){var G=this,P=G.$43i,J=G.$48i;P==E&&(P=G.$43i=new r.List);for(var L=0;L<arguments.length;L++){var Z=arguments[L];if("string"==typeof Z)P.$49i=Z;else{if(Z._config.flowLayout)continue;Z.setPositionRelativeTo("leftTop"),P.contains(Z)||P.add(Z),J.contains(Z)||G.add(Z)}}},setRightTopPanels:function(){var j=this,X=j.$44i,l=j.$48i;X==E&&(X=j.$44i=new r.List);for(var e=0;e<arguments.length;e++){var C=arguments[e];if("string"==typeof C)X.$49i=C;else{if(C._config.flowLayout)continue;C.setPositionRelativeTo("rightTop"),X.contains(C)||X.add(C),l.contains(C)||j.add(C)}}},setLeftBottomPanels:function(){var h=this,k=h.$45i,v=h.$48i;k==E&&(k=h.$45i=new r.List);for(var e=0;e<arguments.length;e++){var K=arguments[e];if("string"==typeof K)k.$49i=K;else{if(K._config.flowLayout)continue;K.setPositionRelativeTo("leftBottom"),k.contains(K)||k.add(K),v.contains(K)||h.add(K)}}},setRightBottomPanels:function(){var B=this,m=B.$46i,P=B.$48i;m==E&&(m=B.$46i=new r.List);for(var Z=0;Z<arguments.length;Z++){var d=arguments[Z];if("string"==typeof d)m.$49i=d;else{if(d._config.flowLayout)continue;d.setPositionRelativeTo("rightBottom"),m.contains(d)||m.add(d),P.contains(d)||B.add(d)}}},add:function(h){if(!h._config.flowLayout){var e=this,j=e.$48i;j.contains(h)||(h.addEventListener(e.bindHandlePanelMove),h.addEventListener(e.bindHandlePanelEvent),j.add(h))}},remove:function(m){var d=this,N=d.$48i;N.contains(m)&&(m.removeEventListener(d.bindHandlePanelMove),m.removeEventListener(d.bindHandlePanelEvent),N.remove(m),d.$43i.contains(m)&&d.$43i.remove(m),d.$44i.contains(m)&&d.$44i.remove(m),d.$45i.contains(m)&&d.$45i.remove(m),d.$46i.contains(m)&&d.$46i.remove(m))},layoutPanels:function(s,v,c){var n=this,b=n._config,X=b.hGap||0,L=b.vGap||0;if(s){var u=n.$43i;if("leftBottom"===v?u=n.$45i:"rightTop"===v?u=n.$44i:"rightBottom"===v&&(u=n.$46i),!u)return;var M=u.$49i,U=X,w=L;if(s.contains(n._view)&&s.removeChild(n._view),u&&u.size()>0)for(var E=0;E<u.size();E++){var Y=u.get(E),q=Y.getView();s=s||q.parentNode,c!==E?Y.setPosition(U,w):("leftTop"===v?(n._view.style.right="",n._view.style.bottom="",n._view.style.left=U+N,n._view.style.top=w+N):"leftBottom"===v?(n._view.style.right="",n._view.style.top="",n._view.style.left=U+N,n._view.style.bottom=w+N):"rightTop"===v?(n._view.style.left="",n._view.style.bottom="",n._view.style.right=U+N,n._view.style.top=w+N):"rightBottom"===v&&(n._view.style.left="",n._view.style.top="",n._view.style.right=U+N,n._view.style.bottom=w+N),n._view.style.width=q.offsetWidth+N,n._view.style.height=q.offsetHeight+N,s.insertBefore(n._view,q)),"h"===M?U+=q.offsetWidth+X:"v"===M&&(w+=q.offsetHeight+L)}}},handlePanelEvent:function(h){if("beginToggle"===h.kind||"endToggle"===h.kind||"beginRestore"===h.kind||"endMinimize"===h.kind||"endResize"===h.kind){var t=this,b=h.target,_=b.getView(),g=_.parentNode,e=t.$43i,f=t.$44i,Z=t.$45i,c=t.$46i,W=t._config,i=E,V=E,s=b.$47i;if(s==E&&(s=b.$47i=0),"beginToggle"===h.kind?s=b.$47i=s+1:"endToggle"===h.kind&&(s=b.$47i=s-1),e&&e.contains(b)?(i="leftTop",V=e):Z&&Z.contains(b)?(i="leftBottom",V=Z):f&&f.contains(b)?(i="rightTop",V=f):c&&c.contains(b)&&(i="rightBottom",V=c),"beginToggle"===h.kind&&i&&1===s){var A=D(),U=A.style,X=V.$49i,J="each";U.fontSize="0",U.position="absolute",U.width="100%","leftTop"===i?(U.left=0,U.top=0):"leftBottom"===i?(U.left=0,U.bottom=0,"v"===X&&(J="reverseEach")):"rightTop"===i?(U.right=0,U.top=0,U.textAlign="right","h"===X&&(J="reverseEach")):"rightBottom"===i&&(U.right=0,U.bottom=0,U.textAlign="right",J="reverseEach"),V[J](function(w){var e=w.getView(),O=e.style,U=D();O.position="static",U.style.textAlign="left",U.style.position="relative",U.style.display="inline-block","leftTop"===i?(U.style.marginLeft=W.hGap+N,U.style.marginTop=W.vGap+N):"leftBottom"===i?(U.style.marginLeft=W.hGap+N,U.style.marginBottom=W.vGap+N):"rightTop"===i?(U.style.marginRight=W.hGap+N,U.style.marginTop=W.vGap+N):"rightBottom"===i&&(U.style.marginRight=W.hGap+N,U.style.marginBottom=W.vGap+N),U.appendChild(e),A.appendChild(U),"h"===X?U.style.verticalAlign="leftTop"===i||"rightTop"===i?"top":"bottom":A.appendChild(m("br"))}),t.$54i=A,g.appendChild(A)}else"endToggle"===h.kind&&i&&0===s?K(function(){g=g.parentNode.parentNode,g.removeChild(t.$54i),delete t.$54i,V.each(function(X){var G=X.getView(),t=G.style;t.position="absolute",g.appendChild(G)}),t.layoutPanels(g,i)},30):("beginRestore"===h.kind||"endMinimize"===h.kind||"endResize"===h.kind)&&i&&t.layoutPanels(g,i)}},handlePanelMove:function(P){if(!(P.kind.indexOf("Move")<0)){var Y=this,O=Y._config,m=O.hGap||0,w=O.vGap||0,C=P.target,F=C._view,N=F.getBoundingClientRect(),M=N.width,U=N.height,X=M/2,j=U/2,H=F.parentNode,l=Y.$43i,K=Y.$44i,y=Y.$45i,e=Y.$46i,c=H.getBoundingClientRect(),i=Y._tolerance;if("endMove"===P.kind){var $=Y._corner;$&&(C.setPositionRelativeTo($),Y.layoutPanels(H,$)),delete Y._corner}if("betweenMove"===P.kind){var B=c.left,V=c.top,S=c.width,z=c.height,D=N.left+M/2,k=N.top+U/2;l==E&&(l=Y.$43i=new r.List),y==E&&(y=Y.$45i=new r.List),K==E&&(K=Y.$44i=new r.List),e==E&&(e=Y.$46i=new r.List),delete Y._corner,l.contains(C)?(l.remove(C),Y.layoutPanels(H,"leftTop")):y.contains(C)?(y.remove(C),Y.layoutPanels(H,"leftBottom")):K.contains(C)?(K.remove(C),Y.layoutPanels(H,"rightTop")):e.contains(C)&&(e.remove(C),Y.layoutPanels(H,"rightBottom"));var A=function(b,v){var y=B+m,W=V+w;if(0===v.size()){var _=y+X,U=W+j;"leftBottom"===b?U=V+z-w-j:"rightTop"===b?_=B+S-m-X:"rightBottom"===b&&(_=B+S-m-X,U=V+z-w-j);var c=D-_,p=k-U,t=Math.sqrt(c*c+p*p);if(i>t)return Y._corner=b,v.add(C),Y.layoutPanels(H,b,0),!0}else if(1===v.size()){var N=v.get(0),G=N.getView().getBoundingClientRect(),l=G.left+X,x=G.top+j,A=G.left+G.width+m+X,Z=W+j,o=y+X,J=G.top+G.height+w+j;"leftBottom"===b?(x=G.top+G.height-j,Z=V+z-w-j,J=G.top-w-j):"rightTop"===b?(l=G.left+G.width-X,A=G.left-m-X,o=B+S-m-X):"rightBottom"===b&&(l=G.left+G.width-X,x=G.top+G.height-j,A=G.left-m-X,Z=V+z-w-j,o=B+S-m-X,J=G.top-w-j);var a=D-l,F=k-x,g=D-A,s=k-Z,d=D-o,Q=k-J,R=u(Math.sqrt(a*a+F*F)),M=u(Math.sqrt(g*g+s*s)),L=u(Math.sqrt(d*d+Q*Q)),K=[R,M,L];K.sort(function(r,Y){return r-Y});var h=K[0];if(i>h){if(Y._corner=b,h===R)return v.add(C,0),Y.layoutPanels(H,b,0),!0;if(h===M)return v.add(C),v.$49i="h",Y.layoutPanels(H,b,1),!0;if(h===L)return v.add(C),v.$49i="v",Y.layoutPanels(H,b,1),!0}}else if(v.size()>1){for(var P=E,q={},T=[],f=v.$49i,n=0;n<v.size();n++){var I=v.get(n),r=I.getView(),e=r.getBoundingClientRect(),$=e.left+X,O=e.top+j;"leftBottom"===b?O=e.top+e.height-j:"rightTop"===b?$=e.left+e.width-X:"rightBottom"===b&&($=e.left+e.width-X,O=e.top+e.height-j),n===v.size()-1&&(P=e);var c=D-$,p=k-O,t=u(Math.sqrt(c*c+p*p));q[t]=n,T.push(t)}"leftTop"===b&&"h"===f?(_=P.left+P.width+m+X,U=W+j):"leftTop"===b&&"v"===f?(_=y+X,U=P.top+P.height+w+j):"leftBottom"===b&&"h"===f?(_=P.left+P.width+m+X,U=V+z-w-j):"leftBottom"===b&&"v"===f?(_=y+X,U=P.top-w-j):"rightTop"===b&&"h"===f?(_=P.left-m-X,U=W+j):"rightTop"===b&&"v"===f?(_=B+S-m-X,U=P.top+P.height+w+j):"rightBottom"===b&&"h"===f?(_=P.left-m-X,U=V+z-w-j):"rightBottom"===b&&"v"===f&&(_=B+S-m-X,U=P.top-w-j),c=D-_,p=k-U,t=u(Math.sqrt(c*c+p*p)),q[t]=n,T.push(t),T.sort(function(B,t){return B-t});var h=T[0];if(i>h)return Y._corner=b,v.add(C,q[h]),Y.layoutPanels(H,b,q[h]),!0}};A("leftTop",l)||A("leftBottom",y)||A("rightTop",K)||A("rightBottom",e)}}}})}(this,Object);