!function(k,c,h){"use strict";var B="ht",E=k[B],q=E.Default,z=q.isTouchable,W=E.Color,o="px",r="0",M="innerHTML",S="className",C="position",N="absolute",t="width",P="height",J="left",A="top",e="right",T="bottom",O="max-width",Q="max-height",y=null,p="none",H="",b=k.parseInt,U=k.setTimeout,i=q.getInternal(),x=q.animate,Y=W.titleIconBackground,w=function(){return document},f=function(h){return w().createElement(h)},Z=function(){return f("div")},n=function(){return f("canvas")},L=function(W,V,B){W.style.setProperty(V,B,y)},d=function(u,F){return u.style.getPropertyValue(F)},V=function(v,F){v.appendChild(F)},l=function(A,u){A.removeChild(u)},F=function(D){var W=D.scrollWidth,u=D.scrollHeight;return D===w().body&&(W=Math.max(W,w().documentElement.scrollWidth),u=Math.max(u,w().documentElement.scrollHeight)),{width:W,height:u}},s=function(P){var Q=P.touches[0];return Q?Q:P.changedTouches[0]};i.addMethod(q,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:Y,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:Y}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:Y},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:Y}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:Y},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:Y}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:Y},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:Y},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:Y},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:Y}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:Y},{type:"rect",rect:[10,118,268,56],background:Y},{type:"rect",rect:[10,213,268,56],background:Y}]},panelTitleLabelColor:q.labelSelectColor,panelTitleLabelFont:q.labelFont,panelContentLabelFont:q.labelFont,panelTitleBackground:W.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:h},!0);var u=E.widget.Panel=function(Q){var o=this,G=o._view=Z();o.$1i=0,o.$18i=new E.Notifier,o.$2i="leftTop",L(G,A,r),L(G,J,r),L(G,C,N),L(G,"overflow","hidden"),o._interactor=new I(o),o.setConfig(Q),o.addEventListener(function(F){var b=o.getPanelConfig(F.id),z=b.content;("beginRestore"===F.kind||"betweenResize"===F.kind||"endToggle"===F.kind)&&(z&&z.invalidate&&z.invalidate(),b.items&&b.items.forEach(function($){$&&$.content&&$.content.invalidate&&$.content.invalidate()}))})};q.def(u,c,{ms_v:1,_dragContainment:"parent",setConfig:function(D){function W(M){M.expanded=!M.expanded,U.togglePanel(M.id,!0,!0)}if(D){var U=this;U._view[M]=H,U._config=D,U.$35i=[],D.expanded==y&&(D.expanded=D.expand!=y?D.expand:!0);var A=U._view,Q=U.$24i(D,A,!0),b=Q[2],E=D.width;U.$35i.push(Q[1]),D.items&&D.items.forEach(function(g){g.expanded==y&&(g.expanded=g.expand!=y?g.expand:!0);var I=U.$24i(g,b.children[0]);U.$35i.push(I[1])});var i=Z();L(i,t,10+o),L(i,P,10+o),L(i,C,N),L(i,T,r),L(i,e,r),i[S]="resize-area",V(A,i),U.$10i(),D.flowLayout&&L(A,C,"relative"),L(A,"opacity",r),V(w().body,A),E==y&&(E=A.offsetWidth),L(A,t,E+o),L(A,O,E+o),D.items&&D.items.forEach(function(O){W(O)}),D.buttons&&D.buttons.indexOf("toggle")<0||W(D),D.minimized==y&&D.minimize!=y&&(D.minimized=D.minimize),D.minimized&&D.minimizable!==!1&&U.minimize(!0),l(w().body,A),L(A,"opacity",H),U.iv()}},getPanelConfig:function(z){var v=this,N=v._config,V=N.items;if(N.id===z)return N;if(V)for(var $=0;$<V.length;$++){var j=V[$];if(j.id===z)return j}},getPanelView:function(V){for(var E=this,N=E.$35i,g=0;g<N.length;g++){var n=N[g],f=n.parentNode;if(f.$15i===V)return f}},setDragContainment:function(K){this._dragContainment=K},getDragContainment:function(){return this._dragContainment},$20i:function(){var N=this._config,G=N.restoreIconSize||24;return G},$5i:function(O){var Z=O.titleIconSize||16;return z&&(Z*=1.2),Z},$4i:function(Q){var C=Q.titleHeight||q.widgetTitleHeight;return C},setTitle:function(S,c){if(c==y&&(c=this._config.id),c!=y){var Z=this.getPanelConfig(c),u=this.getPanelView(c);Z.title=S,u.querySelector(".panel-title span").innerHTML=S}},setInnerPanel:function(s){var w,q,P=this,x=s.id,u=P.$35i,Z=!1;if(s.expanded==y&&(s.expanded=!0),x!=y){var Y=P.getPanelConfig(x);if(Y){Z=!0;var e,A=P.getPanelView(x),m=A.parentNode,g=A.children[0];if(A!==P._view){P.$11i();for(e in Y)delete Y.key;for(e in s)Y[e]=s[e];w=P.$24i(s,m,!1,A),q=w[1],m.removeChild(A);for(var H=0;H<u.length;H++)if(u[H]===g){u.splice(H,1,q);break}P.$12i(),Y.expanded=!Y.expanded,P.togglePanel(Y.id,!0,!0),P.iv()}}}if(!Z){P.$11i(),w=P.$24i(s,P._view.children[1]),q=w[1],u.push(q),P._config.items||(P._config.items=[]);var N=P._config.items;if(N.push(s),P.$12i(),N.length>1){var Q=N[N.length-2],J=P.getPanelView(Q.id).children[0];L(J,"border-bottom",P.$55i(Q))}s.expanded=!s.expanded,P.togglePanel(s.id,!0,!0),P.iv()}},removeInnerPanel:function(x){var A,m=this,p=-1,O=m._config.items;if(O)for(A=0;A<O.length;A++){var C=O[A];if(C.id===x){p=A;break}}if(m.$11i(),p>=0){var H=m.$35i,B=m.getPanelView(x),E=B.children[0];for(A=0;A<H.length;A++)if(H[A]===E){H.splice(A,1);break}O.splice(p,1),B.parentNode.removeChild(B)}if(m.$12i(),O.length>0){var X=O[O.length-1],q=m.getPanelView(X.id).children[0];L(q,"border-bottom",m.$55i(X))}},$6i:function(m){L(m,"cursor","pointer"),L(m,"display","inline-block"),L(m,"margin-right",(z?8:4)+o),L(m,"vertical-align",A)},$24i:function(s,x,z,P){var W=this,G=W._config.flowLayout,h=z?x:Z(),l=W.$50i(s),N=W.$3i(s,z);h[S]="ht-widget-panel"+(z?" outer-panel":" inner-panel"),s.borderWidth==y&&(s.borderWidth=z?2:0);var I=s.borderWidth;if(I="0 "+I+o+" "+I+o+" "+I+o+" ",L(h,"padding",I),V(h,N),V(h,l),z||(P?x.insertBefore(h,P):V(x,h)),!G&&z&&s.minimizable!==!1){var B=n(),F=W.$20i(),_=s.restoreToolTip;i.setCanvas(B,F,F),B[S]="control-button button-minimize button-minimize-restore",W.$6i(B),L(B,"display","none"),V(x,B),B.title=_||""}var v=s.titleBackground||q.panelTitleBackground;if(L(h,"background-color",v),s.id==y){for(var J=W.$1i++;W.getPanelConfig(J);)J=W.$1i++;s.id=J}return h.$15i=s.id,s.width&&(h.style.width=s.width+o),[h,N,l]},$9i:function(z){var B=n();B[S]="control-button button-toggle button-toggle-expand",B.title=z.toggleToolTip||"";var F=this.$4i(z),r=this.$5i(z);return this.$6i(B),i.setCanvas(B,r,F),B},$8i:function(t){var k=n(),y="control-button button-independent-switch";k[S]=t.independent===!0?y+" button-independent-switch-on":y+" button-independent-switch-off",k.title=t.independentSwitchToolTip||"";var G=this.$4i(t),$=this.$5i(t);return this.$6i(k),i.setCanvas(k,$,G),k},$7i:function(T){var m=n();m[S]="control-button button-minimize button-minimize-minimize",m.title=T.minimizeToolTip||"";var g=this.$4i(T),G=this.$5i(T);return this.$6i(m),i.setCanvas(m,G,g),m},$55i:function(K){var $=this._config,P=$.items,N=K.separatorWidth||q.panelSeparatorWidth,Q=K.titleBackground||q.panelTitleBackground,s=K.expanded!==!1?Q:K.separatorColor||q.panelSeparatorColor||q.brighter(Q);return($===K||P&&P.indexOf(K)===P.length-1)&&(N=0),N+o+" solid "+s},$3i:function(G,O){var h=this,u=h._config.flowLayout,s=Z(),l=Z(),b=h.$4i(G),X=G.titleBackground,g=G.titleColor,Y=G.titleIcon,B=G.buttons;if(s[S]="panel-title",L(s,C,"relative"),L(s,"background",X||q.panelTitleBackground),L(s,"color",g||q.panelTitleLabelColor),L(s,A,r),L(s,"box-sizing","border-box"),L(s,"-moz-box-sizing","border-box"),L(s,"padding","0 5px 0 0"),L(s,t,"100%"),L(s,"cursor","default"),L(s,"white-space","nowrap"),L(s,"font",q.panelTitleLabelFont),Y){var k=n();k[S]="control-button panel-title-icon";var F=h.$4i(G),K=h.$5i(G);h.$6i(k),i.setCanvas(k,K,F),V(s,k)}var Q=f("span");L(Q,"display","inline-block"),L(Q,"margin-left","5px"),Q[M]="<span>"+G.title+"</span>",V(s,Q),L(s,"line-height",b+o),l[S]="panel-title-controls",L(l,C,N),L(l,J,r),L(l,e,5+o),L(l,A,r),L(l,T,r),L(l,"text-align",e);var R=function(){var w=h.$9i(G);V(l,w)},z=function(){if(!u&&O&&G.minimizable!==!1){var W=h.$7i(G);V(l,W)}},E=function(){if(!O){var r=h.$8i(G);V(l,r)}},j=function(u){var Z=n();Z[S]="control-button custombutton-"+u.name,Z.title=u.toolTip||"",Z._action=u.action;var A=h.$4i(G),$=h.$5i(G);h.$6i(Z),i.setCanvas(Z,$,A),V(l,Z)};if(B)for(var y=0;y<B.length;y++){var d=B[y];"string"==typeof d?"minimize"===d?z():"independentSwitch"===d?E():"toggle"===d&&R():"object"==typeof d&&j(d)}else z(),R();return V(s,l),s},$50i:function(R){var A=Z(),F=R.contentHeight,j=Z();if(L(j,C,"relative"),A[S]="panel-body",L(A,"overflow","hidden"),L(A,"background","white"),L(A,"font",q.panelContentLabelFont),V(A,j),R.content){var k;R.content.getView?(V(j,R.content.getView()),k=j.children[0]):R.content instanceof Element?(V(j,R.content),k=j.children[0]):j[M]=R.content,k&&(L(k,t,"100%"),L(k,P,"100%")),F&&L(j,P,F+o)}return A},$10i:function(){var d=this,Z=d._config,B=d._view,M=B.querySelector(".resize-area").style;M.display=Z.flowLayout||Z.minimized===!0||Z.expanded===!1?p:"block"},$11i:function(){var d=this._view,X=d.children[1];this.$13i>=0?this.$13i++:this.$13i=1,L(X,Q,H),L(d,O,H)},$12i:function(){var p=--this.$13i;if(0===p){var b=this._view,V=b.children[1];L(V,Q,V.scrollHeight+o),L(b,O,b.offsetWidth+o)}},$14i:function(){var d=this._view,j=d.children[0],$=j.children[1].children,x=this._config,w=0;d.$26i=d.offsetWidth,w+=j.children[0].offsetWidth,x.titleIcon&&(w+=j.children[1].offsetWidth,$=j.children[2].children);for(var Q=0;Q<$.length;Q++){var m=$[Q];w+=m.offsetWidth+5}d.$51i=w+15},togglePanel:function(E,z,G){function P(U){var W=U.target,e=W.parentNode,f=v.getPanelConfig(e.$15i);delete e.$19i,W!==q&&v.$12i(),v.$18i.fire({kind:"endToggle",target:v,id:f.id})}for(var v=this,C=v._view,q=C.children[1],I=y,u=v.$35i,g=u.length,l=v._config.exclusive,e=v.$2i,j=[],T=v._config.narrowWhenCollapse,Y=0;g>Y;Y++){var m=u[Y],b=m.parentNode,s=b.$15i,A=v.getPanelConfig(s);s===E&&(I=b),!z&&l&&A.expanded&&b!==C&&s!==E&&A.independent!==!0&&j.push(b)}if(I&&!I.$19i){I.$19i=!0;var p=I.children[1],k=I.querySelector(".button-toggle"),w=v.getPanelConfig(I.$15i);if(!k)return;I===C||w.expanded||w.independent===!0||j.forEach(function(n){v.togglePanel(n.$15i,!0)}),I!==C&&v.$11i();var i=200;if(G&&(i=0),v.$18i.fire({kind:"beginToggle",target:v,id:I.$15i}),w.expanded){var h=function(){k[S]="control-button button-toggle",k[S]+=e.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",L(p,t,p.clientWidth+o),w.expanded=!1,L(I.children[0],"border-bottom",v.$55i(w)),x(p).duration(i).set("opacity",r).set(Q,r).end(P),T&&I===C&&x(I).duration(i).set(O,I.$51i+o).end(),I[S]+=" panel-collapse",x(I).duration(i).set("padding-bottom",r).end(),v.$28i(w,!0),v.$10i()};T&&I===C&&v.$14i(),h()}else k[S]="control-button button-toggle",k[S]+=e.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",L(p,t,H),w.expanded=!0,L(I.children[0],"border-bottom",v.$55i(w)),x(p).duration(i).set("opacity","1").set(Q,p.scrollHeight+o).end(P),T&&I===C&&x(I).duration(i).set(O,(I.$26i||I.offsetWidth)+o).end(),I[S]=I[S].replace(" panel-collapse",H),x(I).duration(i).set("padding-bottom",w.borderWidth+o).end(),v.$28i(w,!0),v.$10i()}},$16i:function(){var B=this._view,z=B.$22i,n=B.$23i,C=this.$2i;return z==y&&(C.indexOf(J)>=0?z=B.$22i=0:C.indexOf(e)>=0&&(z=B.$22i=100)),n==y&&(C.indexOf("Top")>=0?n=B.$23i=0:C.indexOf("Bottom")>=0&&(n=B.$23i=100)),[z,n]},$25i:function(){var B=this,M=B._view,D=M.$21i,X=B.$20i(),z=B.$16i(),l=z[0],v=z[1],n=B.$2i;M.children[0].style.display=p,M.children[1].style.display=p,M.children[2].style.display=H,L(M,"padding",r),L(M,O,X+o),"leftTop"===n?(L(M,J,b(d(M,J))+(D.width-X)*l/100+o),L(M,A,b(d(M,A))+(D.height-X)*v/100+o)):"leftBottom"===n?(L(M,J,b(d(M,J))+(D.width-X)*l/100+o),L(M,T,b(d(M,T))+(D.height-X)*(1-v/100)+o)):"rightTop"===n?(L(M,e,b(d(M,e))+(D.width-X)*(1-l/100)+o),L(M,A,b(d(M,A))+(D.height-X)*v/100+o)):"rightBottom"===n&&(L(M,e,b(d(M,e))+(D.width-X)*(1-l/100)+o),L(M,T,b(d(M,T))+(D.height-X)*(1-v/100)+o)),M[S]+=" panel-minimized",B.$18i.fire({kind:"endMinimize",target:B,id:M.$15i})},$17i:function(){var p=this,v=p._config,D=p._view;L(D,"-webkit-transform",H),L(D,"-ms-transform",H),L(D,"transform",H),v.minimized?p.$25i():(p.$18i.fire({kind:"endRestore",target:p,id:v.id}),D[S]=D[S].replace(" panel-minimized",H)),delete D.$19i},minimize:function(V){var $=this,U=$._view;if(!U.$19i&&U.children[0].style.display!==p){var e=$._config,g=U.getBoundingClientRect(),R=$.$20i(),I=g.width,y=g.height,N=R/I,F=R/y,A=$.$16i(),G=A[0],X=A[1];U.$52i=N,U.$53i=F,U.$21i=g,$.$18i.fire({kind:"beginMinimize",target:$,id:U.$15i});var o=200;V&&(o=0),e.minimized=!0,U.$19i=!0,e.expanded&&(U.$26i=U.offsetWidth);var u=G+"% "+X+"%";L(U,"-webkit-transform-origin",u),L(U,"-ms-transform-origin",u),L(U,"transform-origin",u),x(U).duration(o).scale(N,F).end(function(){$.$17i()}),$.$10i()}},restore:function(){var s,_,i,n,h,B,H,z,S,c,y,l,j=this,X=j._view,P=X.parentNode,G=j._config;if(!X.$19i&&G.minimized){var K=X.$21i,g=X.$52i,$=X.$53i,f=G.borderWidth+o,D=f,q=f,V=0,Q=j.$20i(),t=F(P),Y=j.$2i;"leftTop"===Y?(s=b(d(X,J)),i=b(d(X,A)),h=s,H=i,S=s+K.width-t.width,c=i+K.height-t.height,S>0&&(S>=s?s=0:s-=S),c>0&&(c>=i?i=0:i-=c),y=100*((h-s)/(K.width-Q)),l=100*((H-i)/(K.height-Q)),L(X,J,s+o),L(X,A,i+o)):"leftBottom"===Y?(s=b(d(X,J)),n=b(d(X,T)),h=s,z=n,S=s+K.width-t.width,c=n+K.height-t.height,S>0&&(S>=s?s=0:s-=S),c>0&&(c>=n?n=0:n-=c),y=100*((h-s)/(K.width-Q)),l=100*(1-(z-n)/(K.height-Q)),L(X,J,s+o),L(X,T,n+o)):"rightTop"===Y?(_=b(d(X,e)),i=b(d(X,A)),B=_,H=i,S=_+K.width-t.width,c=i+K.height-t.height,S>0&&(S>=_?_=0:_-=S),c>0&&(c>=i?i=0:i-=c),y=100*(1-(B-_)/(K.width-Q)),l=100*((H-i)/(K.height-Q)),L(X,e,_+o),L(X,A,i+o)):"rightBottom"===Y&&(_=b(d(X,e)),n=b(d(X,T)),B=_,z=n,S=_+K.width-t.width,c=n+K.height-t.height,S>0&&(S>=_?_=0:_-=S),c>0&&(c>=n?n=0:n-=c),y=100*(1-(B-_)/(K.width-Q)),l=100*(1-(z-n)/(K.height-Q)),L(X,e,_+o),L(X,T,n+o)),X.children[0].style.display="block",X.children[1].style.display="block",X.children[2].style.display=p,L(X,"padding",V+" "+D+" "+q+" "+f),L(X,"-webkit-transform","scale("+g+", "+$+")"),L(X,"-ms-transform","scale("+g+", "+$+")"),L(X,"transform","scale("+g+", "+$+")"),X.$22i=y,X.$23i=l,L(X,"-webkit-transform-origin",y+"% "+l+"%"),L(X,"-ms-transform-origin",y+"% "+l+"%"),L(X,"transform-origin",y+"% "+l+"%"),G.narrowWhenCollapse&&!G.expanded?L(X,O,X.$51i+o):L(X,O,X.$26i+o),j.$18i.fire({kind:"beginRestore",target:j,id:X.$15i}),X.$19i=!0,G.minimized=!1,U(function(){x(X).scale(1,1).end(function(){j.$17i()})},30),j.$10i()}},addEventListener:function($,L,x){this.$18i.add($,L,x)},removeEventListener:function(c,d){this.$18i.remove(c,d)},setPosition:function(Z,d){var k=this._view,X=this.$2i;"leftTop"===X?(L(k,J,Z+o),L(k,A,d+o),L(k,e,H),L(k,T,H)):"leftBottom"===X?(L(k,J,Z+o),L(k,T,d+o),L(k,e,H),L(k,A,H)):"rightTop"===X?(L(k,e,Z+o),L(k,A,d+o),L(k,J,H),L(k,T,H)):"rightBottom"===X&&(L(k,e,Z+o),L(k,T,d+o),L(k,J,H),L(k,A,H)),delete k.$22i,delete k.$23i},getPosition:function(){var v=this._view,r=this.$2i;return"leftTop"===r?{x:b(d(v,J)),y:b(d(v,A))}:"leftBottom"===r?{x:b(d(v,J)),y:b(d(v,T))}:"rightTop"===r?{x:b(d(v,e)),y:b(d(v,A))}:"rightBottom"===r?{x:b(d(v,e)),y:b(d(v,T))}:void 0},setPositionRelativeTo:function(c){var Y=this,z=Y._view.querySelectorAll(".button-toggle"),b="control-button button-toggle",C=Y.getPosition();Y.$2i=c,Y.setPosition(C.x,C.y);for(var H=0;H<z.length;H++){var U=z[H],g=Y.getPanelConfig(U.parentNode.parentNode.parentNode.$15i);U[S]=g.expanded?c.indexOf("Bottom")>=0?b+" button-toggle-collapse":b+" button-toggle-expand":c.indexOf("Bottom")>=0?b+" button-toggle-expand":b+" button-toggle-collapse"}Y.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(r){var G=this;G._68I||(G._68I=1,q.callLater(G.validate,G,y,r),G.onInvalidated&&G.onInvalidated(),G._41O("invalidate"));var u=this._config,I=u.content;I&&I.invalidate&&I.invalidate(),u.items&&u.items.forEach(function(S){S&&S.content&&S.content.invalidate&&S.content.invalidate()})},$27i:function(S,t,r,s){var m=i.initContext(S);i.translateAndScale(m,0,0,1),m.clearRect(0,0,r,r);var Z=(r-s)/2;q.drawStretchImage(m,q.getImage(t),"fill",0,Z,s,s),m.restore()},$28i:function(I){var r,H,b,N=this,K=I.id,o=N.getPanelView(K),E=o.querySelector(".button-toggle"),Z=N.$2i.indexOf("Bottom")>=0;if(H=Z?q.panelCollapseIcon:q.panelExpandIcon,b=Z?q.panelExpandIcon:q.panelCollapseIcon,E){r=I.expanded?q.getImage(b):q.getImage(H);var Y=N.$4i(I),c=N.$5i(I);N.$27i(E,r,Y,c)}},$29i:function($){var u,H=this,T=$.id,G=H.getPanelView(T),j=G.querySelector(".button-independent-switch"),Y=q.panelUnLockIcon,B=q.panelLockIcon;if(j){u=$.independent!==!0?q.getImage(B):q.getImage(Y);var i=H.$4i($),c=H.$5i($);H.$27i(j,u,i,c)}},$30i:function(R){var l=this,v=R.id,Y=l.getPanelView(v),d=Y.querySelector(".button-minimize-minimize"),n=q.panelMinimizeIcon;if(d){var V=l.$4i(R),C=l.$5i(R);l.$27i(d,q.getImage(n),V,C)}},$31i:function(a){var Y=this,_=a.id,o=Y.getPanelView(_),J=o.querySelector(".button-minimize-restore"),T=a.titleIcon||q.panelRestoreIcon;if(J){var k=Y.$20i();Y.$27i(J,q.getImage(T),k,k)}},$32i:function(o){var X=this,A=o.id,m=X.getPanelView(A);if(o.buttons){var $=o.buttons;$.forEach(function(s){var T=s.name,f=s.icon;if(T&&f){var _=m.querySelector(".custombutton-"+T);if(_){var N=X.$4i(o),h=X.$5i(o)-1;X.$27i(_,q.getImage(f),N,h)}}})}},$33i:function(z){var p=this,x=z.id,f=p.getPanelView(x),S=f.querySelector(".panel-title-icon"),U=z.titleIcon;if(S&&U){var F=p.$4i(z),V=p.$5i(z);p.$27i(S,q.getImage(U),F,V)}},validateImpl:function(){var C=this,Z=C._config;C.$28i(Z),C.$30i(Z),C.$31i(Z),C.$32i(Z),C.$33i(Z),Z.items&&Z.items.forEach(function(s){C.$28i(s),C.$29i(s),C.$32i(s)})}});var I=function(U){var V=this,H=U.getView();V.$34i=U,V.addListeners(),H.addEventListener("dblclick",V.$42i.bind(V))};q.def(I,c,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(L){for(var D=this.$34i,m=L.target,F=D.$35i,B=F.length,u=0;B>u;u++){var e=F[u];e.contains(m)&&(L.preventDefault(),D.togglePanel(e.parentNode.$15i))}},handle_touchstart:function(f){var M=this,l=M.$34i,Z=l._config,X=Z.flowLayout,_=f;if(q.preventDefault(f),q.isLeftButton(f)){var v=f.target,y=l.getView().children[0],d=l.getView().querySelector(".button-minimize-restore");z&&(_=s(f));var K=M.$40i={x:_.pageX,y:_.pageY};M.$41i={x:K.x,y:K.y},(!X&&y.contains(v)||d&&d.contains(v))&&(M.$38i=!0,q.startDragging(M,f)),!X&&M.handle_mousemove(f)&&(M.$37i=!0,q.startDragging(M,f),l.$11i())}},handle_mousedown:function(b){this.handle_touchstart(b)},handle_touchend:function($){var K=this,I=K.$34i,B=$.target,g=I.$35i,o=g.length,v=0,P=I.getView(),h=P.querySelector(".button-minimize"),Q=P.querySelector(".button-minimize-restore");if(!K.$39i&&!K.$36i){if(h&&h.contains(B)||Q&&Q.contains(B))$.preventDefault(),I._config.minimized?I.restore():I.minimize();else for(;o>v;v++){var C=g[v],X=C.parentNode,q=X.$15i,J=I.getPanelConfig(q),u=C.querySelector(".button-toggle"),H=C.querySelector(".button-independent-switch");if(u===B)$.preventDefault(),I.togglePanel(q);else if(H===B){$.preventDefault();var w="button-independent-switch-off",j="button-independent-switch-on";J.independent=J.independent==y?!0:!J.independent,H[S]=J.independent?H[S].replace(w,j):H[S].replace(j,w),I.$29i(J)}else B[S]&&B[S].indexOf("control-button custombutton-")>=0&&C.contains(B)&&B._action.call(I,J,I.getPanelView(q),$)}delete K.$40i,delete K.$41i}},handle_mouseup:function(O){this.handle_touchend(O)},handleWindowTouchEnd:function(){var t=this,q=t.$34i;t.$37i&&t.$36i?(q.$18i.fire({kind:"endResize",target:q,id:q.getView().$15i}),q.$12i()):t.$38i&&t.$39i&&q.$18i.fire({kind:"endMove",target:q,id:q.getView().$15i}),this.clear()},handleWindowMouseUp:function(z){this.handleWindowTouchEnd(z)},handle_mousemove:function(f){var J=this,K=J.getView(),d=K.querySelector(".resize-area"),T=d.getBoundingClientRect(),Z={x:T.left,y:T.top,width:T.width,height:T.height};f=z?s(f):f;var x=f.clientX,n=f.clientY,Y=J.$34i._config;return Y.expanded&&Y.minimized!==!0&&q.containsPoint(Z,{x:x,y:n})?(K.style.cursor="nwse-resize",!0):(K.style.cursor=H,void 0)},handleWindowTouchMove:function(w){w.preventDefault();var M=w;z&&(M=s(w));var K=this,a=K.$40i,m=K.$41i;if(!(m.x==a.x&&m.y==a.y&&q.getDistance(m,{x:M.pageX,y:M.pageY})<=1)){var h=K.$34i,i=K.getView(),C=i.parentNode,H=h._config,f=H.resizeMode||"wh",j=M.pageX-a.x,l=M.pageY-a.y,R=h.$2i;if(K.$37i){var X=i.children[1].children[0],Y=X.clientWidth,p=X.clientHeight,n=Y+j,O=p+l;n=Math.max(n,100),O=Math.max(O,100),"w"===f?(L(i,t,n+o),H.width=n,a.x+=n-Y,R.indexOf(e)>=0&&L(i,e,b(d(i,e))-(n-Y)+o)):"h"===f?(L(X,P,O+o),H.contentHeight=O,a.y+=O-p,R.indexOf("Bottom")>=0&&L(i,T,b(d(i,T))-(O-p)+o)):"wh"===f&&(L(i,t,n+o),L(X,P,O+o),H.width=n,H.contentHeight=O,a.x+=n-Y,a.y+=O-p,R.indexOf("right")>=0&&L(i,e,b(d(i,e))-(n-Y)+o),R.indexOf("Bottom")>=0&&L(i,T,b(d(i,T))-(O-p)+o)),K.$36i?h.$18i.fire({kind:"betweenResize",target:h,id:h.getView().$15i}):(K.$36i=!0,h.$18i.fire({kind:"beginResize",target:h,id:h.getView().$15i}))}else if(K.$38i){var Z,I,k,r,c,E,S,Q,v,W,u=i.getBoundingClientRect(),y=u.width,x=u.height,B=F(C),V=B.width,G=B.height,U=h._dragContainment;"leftTop"===R?(Z=b(d(i,J))||0,k=b(d(i,A))||0,c=Z+j,S=k+l,"parent"===U&&(c+y>V&&(c=V-y),S+x>G&&(S=G-x),0>c&&(c=0),0>S&&(S=0)),v=c-Z,W=S-k,h.setPosition(c,S),a.x+=v,a.y+=W):"rightBottom"===R?(I=b(d(i,e))||0,r=b(d(i,T))||0,E=I-j,Q=r-l,"parent"===U&&(0>E&&(E=0),0>Q&&(Q=0),E+y>V&&(E=V-y),Q+x>G&&(Q=G-x)),v=E-I,W=Q-r,h.setPosition(E,Q),a.x-=v,a.y-=W):"rightTop"===R?(I=b(d(i,e))||0,k=b(d(i,A))||0,E=I-j,S=k+l,"parent"===U&&(0>E&&(E=0),0>S&&(S=0),E+y>V&&(E=V-y),S+x>G&&(S=G-x)),v=E-I,W=S-k,h.setPosition(E,S),a.x-=v,a.y+=W):"leftBottom"===R&&(Z=b(d(i,J))||0,r=b(d(i,T))||0,c=Z+j,Q=r-l,"parent"===U&&(0>c&&(c=0),0>Q&&(Q=0),c+y>V&&(c=V-y),Q+x>G&&(Q=G-x)),v=c-Z,W=Q-r,h.setPosition(c,Q),a.x+=v,a.y-=W),K.$39i?h.$18i.fire({kind:"betweenMove",target:h,id:h.getView().$15i}):(K.$39i=!0,h.$18i.fire({kind:"beginMove",target:h,id:h.getView().$15i}))}}},handleWindowMouseMove:function(W){this.handleWindowTouchMove(W)}});var K=E.widget.PanelGroup=function(Q){var N=this,A=N._view=Z();A.style.border="1px dashed black",A.style.position="absolute",A.style.background="rgba(120, 120, 120, 0.4)",N.$48i=new E.List,N._tolerance=100,N._config=Q||{hGap:0,vGap:0},N.bindHandlePanelMove=N.handlePanelMove.bind(N),N.bindHandlePanelEvent=N.handlePanelEvent.bind(N),N.invalidate()};q.def(K,c,{invalidate:function(){var d=this;d._68I||(d._68I=1,U(function(){d.validate()},50))},validate:function(){if(this._68I){delete this._68I;var f=this.$48i.get(0);if(f){var s=f.getView().parentNode;s&&(this.layoutPanels(s,"leftTop"),this.layoutPanels(s,"rightTop"),this.layoutPanels(s,"leftBottom"),this.layoutPanels(s,"rightBottom"))}}},setLeftTopPanels:function(){var i=this,f=i.$43i,z=i.$48i;f==y&&(f=i.$43i=new E.List);for(var C=0;C<arguments.length;C++){var p=arguments[C];if("string"==typeof p)f.$49i=p;else{if(p._config.flowLayout)continue;p.setPositionRelativeTo("leftTop"),f.contains(p)||f.add(p),z.contains(p)||i.add(p)}}},setRightTopPanels:function(){var D=this,z=D.$44i,s=D.$48i;z==y&&(z=D.$44i=new E.List);for(var n=0;n<arguments.length;n++){var r=arguments[n];if("string"==typeof r)z.$49i=r;else{if(r._config.flowLayout)continue;r.setPositionRelativeTo("rightTop"),z.contains(r)||z.add(r),s.contains(r)||D.add(r)}}},setLeftBottomPanels:function(){var j=this,v=j.$45i,l=j.$48i;v==y&&(v=j.$45i=new E.List);for(var A=0;A<arguments.length;A++){var O=arguments[A];if("string"==typeof O)v.$49i=O;else{if(O._config.flowLayout)continue;O.setPositionRelativeTo("leftBottom"),v.contains(O)||v.add(O),l.contains(O)||j.add(O)}}},setRightBottomPanels:function(){var n=this,K=n.$46i,A=n.$48i;K==y&&(K=n.$46i=new E.List);for(var d=0;d<arguments.length;d++){var L=arguments[d];if("string"==typeof L)K.$49i=L;else{if(L._config.flowLayout)continue;L.setPositionRelativeTo("rightBottom"),K.contains(L)||K.add(L),A.contains(L)||n.add(L)}}},add:function(p){if(!p._config.flowLayout){var u=this,m=u.$48i;m.contains(p)||(p.addEventListener(u.bindHandlePanelMove),p.addEventListener(u.bindHandlePanelEvent),m.add(p))}},remove:function(X){var D=this,c=D.$48i;c.contains(X)&&(X.removeEventListener(D.bindHandlePanelMove),X.removeEventListener(D.bindHandlePanelEvent),c.remove(X),D.$43i.contains(X)&&D.$43i.remove(X),D.$44i.contains(X)&&D.$44i.remove(X),D.$45i.contains(X)&&D.$45i.remove(X),D.$46i.contains(X)&&D.$46i.remove(X))},layoutPanels:function(_,m,e){var P=this,O=P._config,j=O.hGap||0,f=O.vGap||0;if(_){var N=P.$43i;if("leftBottom"===m?N=P.$45i:"rightTop"===m?N=P.$44i:"rightBottom"===m&&(N=P.$46i),!N)return;var v=N.$49i,G=j,T=f;if(_.contains(P._view)&&_.removeChild(P._view),N&&N.size()>0)for(var b=0;b<N.size();b++){var z=N.get(b),h=z.getView();_=_||h.parentNode,e!==b?z.setPosition(G,T):("leftTop"===m?(P._view.style.right="",P._view.style.bottom="",P._view.style.left=G+o,P._view.style.top=T+o):"leftBottom"===m?(P._view.style.right="",P._view.style.top="",P._view.style.left=G+o,P._view.style.bottom=T+o):"rightTop"===m?(P._view.style.left="",P._view.style.bottom="",P._view.style.right=G+o,P._view.style.top=T+o):"rightBottom"===m&&(P._view.style.left="",P._view.style.top="",P._view.style.right=G+o,P._view.style.bottom=T+o),P._view.style.width=h.offsetWidth+o,P._view.style.height=h.offsetHeight+o,_.insertBefore(P._view,h)),"h"===v?G+=h.offsetWidth+j:"v"===v&&(T+=h.offsetHeight+f)}}},handlePanelEvent:function(F){if("beginToggle"===F.kind||"endToggle"===F.kind||"beginRestore"===F.kind||"endMinimize"===F.kind||"endResize"===F.kind){var d=this,L=F.target,D=L.getView(),z=D.parentNode,V=d.$43i,O=d.$44i,e=d.$45i,j=d.$46i,Y=d._config,E=y,T=y,h=L.$47i;if(h==y&&(h=L.$47i=0),"beginToggle"===F.kind?h=L.$47i=h+1:"endToggle"===F.kind&&(h=L.$47i=h-1),V&&V.contains(L)?(E="leftTop",T=V):e&&e.contains(L)?(E="leftBottom",T=e):O&&O.contains(L)?(E="rightTop",T=O):j&&j.contains(L)&&(E="rightBottom",T=j),"beginToggle"===F.kind&&E&&1===h){var n=Z(),I=n.style,t=T.$49i,k="each";I.fontSize="0",I.position="absolute",I.width="100%","leftTop"===E?(I.left=0,I.top=0):"leftBottom"===E?(I.left=0,I.bottom=0,"v"===t&&(k="reverseEach")):"rightTop"===E?(I.right=0,I.top=0,I.textAlign="right","h"===t&&(k="reverseEach")):"rightBottom"===E&&(I.right=0,I.bottom=0,I.textAlign="right",k="reverseEach"),T[k](function(K){var u=K.getView(),P=u.style,N=Z();P.position="static",N.style.textAlign="left",N.style.position="relative",N.style.display="inline-block","leftTop"===E?(N.style.marginLeft=Y.hGap+o,N.style.marginTop=Y.vGap+o):"leftBottom"===E?(N.style.marginLeft=Y.hGap+o,N.style.marginBottom=Y.vGap+o):"rightTop"===E?(N.style.marginRight=Y.hGap+o,N.style.marginTop=Y.vGap+o):"rightBottom"===E&&(N.style.marginRight=Y.hGap+o,N.style.marginBottom=Y.vGap+o),N.appendChild(u),n.appendChild(N),"h"===t?N.style.verticalAlign="leftTop"===E||"rightTop"===E?"top":"bottom":n.appendChild(f("br"))}),d.$54i=n,z.appendChild(n)}else"endToggle"===F.kind&&E&&0===h?U(function(){z=z.parentNode.parentNode,z.removeChild(d.$54i),delete d.$54i,T.each(function(n){var Y=n.getView(),A=Y.style;A.position="absolute",z.appendChild(Y)}),d.layoutPanels(z,E)},30):("beginRestore"===F.kind||"endMinimize"===F.kind||"endResize"===F.kind)&&E&&d.layoutPanels(z,E)}},handlePanelMove:function($){if(!($.kind.indexOf("Move")<0)){var P=this,x=P._config,H=x.hGap||0,o=x.vGap||0,e=$.target,I=e._view,W=I.getBoundingClientRect(),O=W.width,j=W.height,S=O/2,z=j/2,t=I.parentNode,s=P.$43i,r=P.$44i,L=P.$45i,D=P.$46i,K=t.getBoundingClientRect(),U=P._tolerance;if("endMove"===$.kind){var w=P._corner;w&&(e.setPositionRelativeTo(w),P.layoutPanels(t,w)),delete P._corner}if("betweenMove"===$.kind){var c=K.left,_=K.top,l=K.width,V=K.height,R=W.left+O/2,A=W.top+j/2;s==y&&(s=P.$43i=new E.List),L==y&&(L=P.$45i=new E.List),r==y&&(r=P.$44i=new E.List),D==y&&(D=P.$46i=new E.List),delete P._corner,s.contains(e)?(s.remove(e),P.layoutPanels(t,"leftTop")):L.contains(e)?(L.remove(e),P.layoutPanels(t,"leftBottom")):r.contains(e)?(r.remove(e),P.layoutPanels(t,"rightTop")):D.contains(e)&&(D.remove(e),P.layoutPanels(t,"rightBottom"));var N=function(E,M){var $=c+H,N=_+o;if(0===M.size()){var T=$+S,d=N+z;"leftBottom"===E?d=_+V-o-z:"rightTop"===E?T=c+l-H-S:"rightBottom"===E&&(T=c+l-H-S,d=_+V-o-z);var L=R-T,J=A-d,f=Math.sqrt(L*L+J*J);if(U>f)return P._corner=E,M.add(e),P.layoutPanels(t,E,0),!0}else if(1===M.size()){var a=M.get(0),X=a.getView().getBoundingClientRect(),I=X.left+S,s=X.top+z,w=X.left+X.width+H+S,Y=N+z,W=$+S,x=X.top+X.height+o+z;"leftBottom"===E?(s=X.top+X.height-z,Y=_+V-o-z,x=X.top-o-z):"rightTop"===E?(I=X.left+X.width-S,w=X.left-H-S,W=c+l-H-S):"rightBottom"===E&&(I=X.left+X.width-S,s=X.top+X.height-z,w=X.left-H-S,Y=_+V-o-z,W=c+l-H-S,x=X.top-o-z);var K=R-I,C=A-s,n=R-w,j=A-Y,B=R-W,u=A-x,O=b(Math.sqrt(K*K+C*C)),r=b(Math.sqrt(n*n+j*j)),q=b(Math.sqrt(B*B+u*u)),k=[O,r,q];k.sort(function(d,Y){return d-Y});var D=k[0];if(U>D){if(P._corner=E,D===O)return M.add(e,0),P.layoutPanels(t,E,0),!0;if(D===r)return M.add(e),M.$49i="h",P.layoutPanels(t,E,1),!0;if(D===q)return M.add(e),M.$49i="v",P.layoutPanels(t,E,1),!0}}else if(M.size()>1){for(var h=y,p={},G=[],Z=M.$49i,i=0;i<M.size();i++){var v=M.get(i),Q=v.getView(),m=Q.getBoundingClientRect(),g=m.left+S,F=m.top+z;"leftBottom"===E?F=m.top+m.height-z:"rightTop"===E?g=m.left+m.width-S:"rightBottom"===E&&(g=m.left+m.width-S,F=m.top+m.height-z),i===M.size()-1&&(h=m);var L=R-g,J=A-F,f=b(Math.sqrt(L*L+J*J));p[f]=i,G.push(f)}"leftTop"===E&&"h"===Z?(T=h.left+h.width+H+S,d=N+z):"leftTop"===E&&"v"===Z?(T=$+S,d=h.top+h.height+o+z):"leftBottom"===E&&"h"===Z?(T=h.left+h.width+H+S,d=_+V-o-z):"leftBottom"===E&&"v"===Z?(T=$+S,d=h.top-o-z):"rightTop"===E&&"h"===Z?(T=h.left-H-S,d=N+z):"rightTop"===E&&"v"===Z?(T=c+l-H-S,d=h.top+h.height+o+z):"rightBottom"===E&&"h"===Z?(T=h.left-H-S,d=_+V-o-z):"rightBottom"===E&&"v"===Z&&(T=c+l-H-S,d=h.top-o-z),L=R-T,J=A-d,f=b(Math.sqrt(L*L+J*J)),p[f]=i,G.push(f),G.sort(function(J,S){return J-S});var D=G[0];if(U>D)return P._corner=E,M.add(e,p[D]),P.layoutPanels(t,E,p[D]),!0}};N("leftTop",s)||N("leftBottom",L)||N("rightTop",r)||N("rightBottom",D)}}}})}(this,Object);