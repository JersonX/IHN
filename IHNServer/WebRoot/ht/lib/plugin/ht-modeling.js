!function(b,x,k){"use strict";var l="ht",F=b[l],o=null,d=Math,h=d.PI,L=d.cos,c=d.sin,z=d.abs,w=d.max,$=d.sqrt,A=1e-5,a=F.Default,p=a.def,C=a.startAnim,V=a.createMatrix,Q=a.transformVec,B=a.getInternal(),e=B.addMethod,U=B.superCall,f=B.toPointsArray,y=B.createNormals,u=B.toFloatArray,W=B.glMV,K=B.batchShape,E=B.createNodeMatrix,r=B.getFaceInfo,s=B.transformAppend,T=B.drawFaceInfo,n=B.createAnim,G=B.cube(),Y=G.is,g=G.vs,S=G.uv,R=B.ui(),P=F.Node,m=F.Shape,Z="h",t="v",D="front",M="back",q="left",H="right",N="top",I="bottom",X="dw.expanded",i=".expanded",_="dw.angle",v=".angle",J=function(j,Y,k){p(l+"."+j,Y,k)},j=function(A,y,M){M?A.push(y.x,y.y):A.push(y.x,y.y,y.z)},O=[1,0,0],nk=function(e,M,u,s){var Q,G,a,w,t=0,P=[];if(s)for(Q=s.length;Q>t;t+=3)G=s[t],a=s[t+1],w=s[t+2],P.push(new lr([new fd([M[3*G],M[3*G+1],M[3*G+2]],O,u?[u[2*G],u[2*G+1],0]:o),new fd([M[3*a],M[3*a+1],M[3*a+2]],O,u?[u[2*a],u[2*a+1],0]:o),new fd([M[3*w],M[3*w+1],M[3*w+2]],O,u?[u[2*w],u[2*w+1],0]:o)],e));else for(Q=M.length;Q>t;t+=3)G=t,a=t+1,w=t+2,P.push(new lr([new fd([M[3*G],M[3*G+1],M[3*G+2]],O,u?[u[2*G],u[2*G+1],0]:o),new fd([M[3*a],M[3*a+1],M[3*a+2]],O,u?[u[2*a],u[2*a+1],0]:o),new fd([M[3*w],M[3*w+1],M[3*w+2]],O,u?[u[2*w],u[2*w+1],0]:o)],e));return P},Ir=[q,D,H,M,N,I],Nh=Ir.concat("csg"),Oh=[0,6,12,18,24,30],ym=function(U,_,K){for(var z=E(U),C=[],L=0;6>L;L++)for(var I=Ir[L],w=Oh[L],F=K?_.getFaceUv(U,I):o,V=K?_.getFaceUvScale(U,I):o,s=K?_.getFaceUvOffset(U,I):o,W=0;2>W;W++){var q,r,A,R=Y[w+3*W],t=Y[w+3*W+1],i=Y[w+3*W+2];if(K){if(F){var N=8*L;q=[F[2*R-N],F[2*R+1-N],0],r=[F[2*t-N],F[2*t+1-N],0],A=[F[2*i-N],F[2*i+1-N],0]}else q=[S[2*R],S[2*R+1],0],r=[S[2*t],S[2*t+1],0],A=[S[2*i],S[2*i+1],0];V&&(q[0]*=V[0],q[1]*=V[1],r[0]*=V[0],r[1]*=V[1],A[0]*=V[0],A[1]*=V[1]),s&&(q[0]+=s[0],q[1]+=s[1],r[0]+=s[0],r[1]+=s[1],A[0]+=s[0],A[1]+=s[1])}C.push(new lr([new fd(Q([g[3*R],g[3*R+1],g[3*R+2]],z),O,q),new fd(Q([g[3*t],g[3*t+1],g[3*t+2]],z),O,r),new fd(Q([g[3*i],g[3*i+1],g[3*i+2]],z),O,A)],U))}return Td.$15n(C)},Ak=function(t,A){var Y,s=t.data.getAttaches();if(s&&s.each(function(M){M instanceof Tl&&M.s("attach.operation")&&(Y||(Y=[]),Y.push(M))}),Y){var T;Ir.forEach(function(y){var m=nk(y,t[y].vs,t[y].tuv);T=T?T.concat(m):m}),T=Td.$15n(T),Y.forEach(function(x){var e=x.s("attach.operation");T[e]&&(T=T[e](ym(x,t.gv,t.csg.tuv)))}),Ir.forEach(function(U){U=t[U],U.vs=[],U.tuv&&(U.tuv=[])}),T.$19n().forEach(function(c){var h=c.$10n;if(h instanceof Tl){if(h.s("attach.cull"))return;h="csg"}for(var b=t[h],Q=b.vs,x=b.tuv,o=c.$9n,R=2;R<o.length;R++)j(Q,o[0].$24n),j(Q,o[R-1].$24n),j(Q,o[R].$24n),x&&(j(x,o[0].uv,!0),j(x,o[R-1].uv,!0),j(x,o[R].uv,!0))})}Nh.forEach(function(i){var H=t[i];H.visible&&H.vs.length?(H.ns=y(H.vs),u(H,"vs"),u(H,"tuv")):delete t[i]}),A&&(K(t,o,A),t.clear())};e(a,{createFrameModel:function(I,N,d,R){I=I==o?.07:I,N=N==o?I:N,d=d==o?I:d,R=R?R:{};var b=R.top,w=R.bottom,U=R.left,S=R.right,k=R.front,$=R.back,Z=[],V=[];return k===!0?(Z.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),V.push(0,0,0,1,1,1,1,1,1,0,0,0)):k===!1||(Z.push(-.5,.5,.5,-.5,-.5,.5,-.5+I,-.5,.5,-.5+I,-.5,.5,-.5+I,.5,.5,-.5,.5,.5,.5-I,.5,.5,.5-I,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-I,.5,.5,-.5+I,.5,.5,-.5+I,.5-N,.5,.5-I,.5-N,.5,.5-I,.5-N,.5,.5-I,.5,.5,-.5+I,.5,.5,-.5+I,-.5+N,.5,-.5+I,-.5,.5,.5-I,-.5,.5,.5-I,-.5,.5,.5-I,-.5+N,.5,-.5+I,-.5+N,.5),V.push(0,0,0,1,I,1,I,1,I,0,0,0,1-I,0,1-I,1,1,1,1,1,1,0,1-I,0,I,0,I,N,1-I,N,1-I,N,1-I,0,I,0,I,1-N,I,1,1-I,1,1-I,1,1-I,1-N,I,1-N)),$===!0?(Z.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),V.push(1,0,0,1,1,1,0,1,1,0,0,0)):$===!1||(Z.push(-.5,.5,-.5,-.5+I,-.5,-.5,-.5,-.5,-.5,-.5+I,-.5,-.5,-.5,.5,-.5,-.5+I,.5,-.5,.5-I,.5,-.5,.5,-.5,-.5,.5-I,-.5,-.5,.5,-.5,-.5,.5-I,.5,-.5,.5,.5,-.5,-.5+I,.5,-.5,.5-I,.5-N,-.5,-.5+I,.5-N,-.5,.5-I,.5-N,-.5,-.5+I,.5,-.5,.5-I,.5,-.5,-.5+I,-.5+N,-.5,.5-I,-.5,-.5,-.5+I,-.5,-.5,.5-I,-.5,-.5,-.5+I,-.5+N,-.5,.5-I,-.5+N,-.5),V.push(1,0,1-I,1,1,1,1-I,1,1,0,1-I,0,I,0,0,1,I,1,0,1,I,0,0,0,1-I,0,I,N,1-I,N,I,N,1-I,0,I,0,1-I,1-N,I,1,1-I,1,I,1,1-I,1-N,I,1-N)),U===!0?(Z.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),V.push(0,0,0,1,1,1,1,1,1,0,0,0)):U===!1||(Z.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+d,-.5,-.5,-.5+d,-.5,.5,-.5+d,-.5,.5,-.5,-.5,.5,.5-d,-.5,-.5,.5-d,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-d,-.5,.5,-.5+d,-.5,.5-N,-.5+d,-.5,.5-N,.5-d,-.5,.5-N,.5-d,-.5,.5,.5-d,-.5,.5,-.5+d,-.5,-.5+N,-.5+d,-.5,-.5,-.5+d,-.5,-.5,.5-d,-.5,-.5,.5-d,-.5,-.5+N,.5-d,-.5,-.5+N,-.5+d),V.push(0,0,0,1,d,1,d,1,d,0,0,0,1-d,0,1-d,1,1,1,1,1,1,0,1-d,0,d,0,d,N,1-d,N,1-d,N,1-d,0,d,0,d,1-N,d,1,1-d,1,1-d,1,1-d,1-N,d,1-N)),S===!0?(Z.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),V.push(1,0,0,1,1,1,0,1,1,0,0,0)):S===!1||(Z.push(.5,.5,-.5,.5,-.5,-.5+d,.5,-.5,-.5,.5,-.5,-.5+d,.5,.5,-.5,.5,.5,-.5+d,.5,.5,.5-d,.5,-.5,.5,.5,-.5,.5-d,.5,-.5,.5,.5,.5,.5-d,.5,.5,.5,.5,.5,-.5+d,.5,.5-N,.5-d,.5,.5-N,-.5+d,.5,.5-N,.5-d,.5,.5,-.5+d,.5,.5,.5-d,.5,-.5+N,-.5+d,.5,-.5,.5-d,.5,-.5,-.5+d,.5,-.5,.5-d,.5,-.5+N,-.5+d,.5,-.5+N,.5-d),V.push(1,0,1-d,1,1,1,1-d,1,1,0,1-d,0,d,0,0,1,d,1,0,1,d,0,0,0,1-d,0,d,N,1-d,N,d,N,1-d,0,d,0,1-d,1-N,d,1,1-d,1,d,1,1-d,1-N,d,1-N)),b===!0?(Z.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),V.push(1,1,1,0,0,0,0,0,0,1,1,1)):b===!1||(Z.push(.5,.5,.5,.5,.5,-.5,.5-I,.5,-.5,.5-I,.5,-.5,.5-I,.5,.5,.5,.5,.5,-.5+I,.5,.5,-.5+I,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+I,.5,.5,.5-I,.5,.5,.5-I,.5,.5-d,-.5+I,.5,.5-d,-.5+I,.5,.5-d,-.5+I,.5,.5,.5-I,.5,.5,.5-I,.5,-.5+d,.5-I,.5,-.5,-.5+I,.5,-.5,-.5+I,.5,-.5,-.5+I,.5,-.5+d,.5-I,.5,-.5+d),V.push(1,1,1,0,1-I,0,1-I,0,1-I,1,1,1,I,1,I,0,0,0,0,0,0,1,I,1,1-I,1,1-I,1-d,I,1-d,I,1-d,I,1,1-I,1,1-I,d,1-I,0,I,0,I,0,I,d,1-I,d)),w===!0?(Z.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),V.push(1,0,0,1,1,1,0,1,1,0,0,0)):w===!1||(Z.push(.5,-.5,.5,.5-I,-.5,-.5,.5,-.5,-.5,.5-I,-.5,-.5,.5,-.5,.5,.5-I,-.5,.5,-.5+I,-.5,.5,-.5,-.5,-.5,-.5+I,-.5,-.5,-.5,-.5,-.5,-.5+I,-.5,.5,-.5,-.5,.5,.5-I,-.5,.5,-.5+I,-.5,.5-d,.5-I,-.5,.5-d,-.5+I,-.5,.5-d,.5-I,-.5,.5,-.5+I,-.5,.5,.5-I,-.5,-.5+d,-.5+I,-.5,-.5,.5-I,-.5,-.5,-.5+I,-.5,-.5,.5-I,-.5,-.5+d,-.5+I,-.5,-.5+d),V.push(1,0,1-I,1,1,1,1-I,1,1,0,1-I,0,I,0,0,1,I,1,0,1,I,0,0,0,1-I,0,I,d,1-I,d,I,d,1-I,0,I,0,1-I,1-d,I,1,1-I,1,I,1,1-I,1-d,I,1-d)),{vs:Z,uv:V}}}),e(F.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":k,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":h/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Ir.forEach(function(D){var P={};P[D+i]=!1,P[D+".toggleable"]=!1,P[D+".axis"]=q,P[D+".start"]=0,P[D+".end"]=h/2,P[D+v]=0,e(F.Style,P,!0)});var Td=function(){this.$4n=[]};Td.$15n=function(K){var r=new Td;return r.$4n=K,r},Td.prototype={clone:function(){var A=new Td;return A.$4n=this.$4n.map(function(a){return a.clone()}),A},$19n:function(){return this.$4n},union:function(X){var f=new _l(this.clone().$4n),I=new _l(X.clone().$4n);return f.$3n(I),I.$3n(f),I.$6n(),I.$3n(f),I.$6n(),f.$7n(I.$2n()),Td.$15n(f.$2n())},subtract:function(_){var v=new _l(this.clone().$4n),e=new _l(_.clone().$4n);return v.$6n(),v.$3n(e),e.$3n(v),e.$6n(),e.$3n(v),e.$6n(),v.$7n(e.$2n()),v.$6n(),Td.$15n(v.$2n())},intersect:function(w){var g=new _l(this.clone().$4n),E=new _l(w.clone().$4n);return g.$6n(),E.$3n(g),E.$6n(),g.$3n(E),E.$3n(g),g.$7n(E.$2n()),g.$6n(),Td.$15n(g.$2n())},inverse:function(){var T=this.clone();return T.$4n.map(function(u){u.flip()}),T}},Td.cube=function(n){n=n||{};var L=new Bq(n.center||[0,0,0]),x=n.radius?n.radius.length?n.radius:[n.radius,n.radius,n.radius]:[1,1,1];return Td.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(Q){return new lr(Q[0].map(function(m){var n=new Bq(L.x+x[0]*(2*!!(1&m)-1),L.y+x[1]*(2*!!(2&m)-1),L.z+x[2]*(2*!!(4&m)-1));return new fd(n,new Bq(Q[1]))}))}))},Td.sphere=function(v){function _(I,f){I*=2*h,f*=h;var X=new Bq(L(I)*c(f),L(f),c(I)*c(f));z.push(new fd(P.$20n(X.$21n(Y)),X))}v=v||{};for(var z,P=new Bq(v.center||[0,0,0]),Y=v.radius||1,B=v.slices||16,p=v.stacks||8,u=[],T=0;B>T;T++)for(var i=0;p>i;i++)z=[],_(T/B,i/p),i>0&&_((T+1)/B,i/p),p-1>i&&_((T+1)/B,(i+1)/p),_(T/B,(i+1)/p),u.push(new lr(z));return Td.$15n(u)},Td.cylinder=function(m){function y(t,D,Y){var S=2*D*h,o=E.$21n(L(S)).$20n(d.$21n(c(S))),v=u.$20n(x.$21n(t)).$20n(o.$21n(e)),V=o.$21n(1-z(Y)).$20n(P.$21n(Y));return new fd(v,V)}m=m||{};for(var u=new Bq(m.start||[0,-1,0]),F=new Bq(m.end||[0,1,0]),x=F.$13n(u),e=m.radius||1,Z=m.slices||16,P=x.$14n(),H=z(P.y)>.5,E=new Bq(H,!H,0).$12n(P).$14n(),d=E.$12n(P).$14n(),B=new fd(u,P.$11n()),$=new fd(F,P.$14n()),w=[],i=0;Z>i;i++){var t=i/Z,N=(i+1)/Z;w.push(new lr([B,y(0,t,-1),y(0,N,-1)])),w.push(new lr([y(0,N,0),y(0,t,0),y(1,t,0),y(1,N,0)])),w.push(new lr([$,y(1,N,1),y(1,t,1)]))}return Td.$15n(w)};var Bq=function(T,s,E){var X=this;3==arguments.length?(X.x=T,X.y=s,X.z=E):"x"in T?(X.x=T.x,X.y=T.y,X.z=T.z):(X.x=T[0],X.y=T[1],X.z=T[2])};Bq.prototype={clone:function(){return new Bq(this.x,this.y,this.z)},$11n:function(){return new Bq(-this.x,-this.y,-this.z)},$20n:function($){return new Bq(this.x+$.x,this.y+$.y,this.z+$.z)},$13n:function($){return new Bq(this.x-$.x,this.y-$.y,this.z-$.z)},$21n:function(K){return new Bq(this.x*K,this.y*K,this.z*K)},$16n:function(u){return new Bq(this.x/u,this.y/u,this.z/u)},$23n:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lerp:function(C,V){return this.$20n(C.$13n(this).$21n(V))},length:function(){return $(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(e){var l=this;return new Bq(l.y*e.z-l.z*e.y,l.z*e.x-l.x*e.z,l.x*e.y-l.y*e.x)}};var fd=function(e,O,y){var f=this;f.$24n=new Bq(e),f.$22n=new Bq(O),f.uv=y?new Bq(y):null};fd.prototype={clone:function(){var w=this;return new fd(w.$24n.clone(),w.$22n.clone(),w.uv?w.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(c,z){var l=this;return new fd(l.$24n.lerp(c.$24n,z),l.$22n.lerp(c.$22n,z),l.uv?l.uv.lerp(c.uv,z):null)}};var Pr=function(J,j){this.$22n=J,this.w=j};Pr.$17n=function(V,M,O){var g=M.$13n(V).$12n(O.$13n(V)).$14n();return new Pr(g,g.$23n(V))},Pr.prototype={clone:function(){return new Pr(this.$22n.clone(),this.w)},flip:function(){var q=this;q.$22n=q.$22n.$11n(),q.w=-q.w},$5n:function(w,J,p,K,P){for(var L=this,M=0,z=1,Z=2,l=3,r=0,Y=[],$=0;$<w.$9n.length;$++){var j=L.$22n.$23n(w.$9n[$].$24n)-L.w,C=-A>j?Z:j>A?z:M;r|=C,Y.push(C)}switch(r){case M:(L.$22n.$23n(w.$8n.$22n)>0?J:p).push(w);break;case z:K.push(w);break;case Z:P.push(w);break;case l:for(var B=[],c=[],$=0;$<w.$9n.length;$++){var Q=($+1)%w.$9n.length,t=Y[$],k=Y[Q],u=w.$9n[$],_=w.$9n[Q];if(t!=Z&&B.push(u),t!=z&&c.push(t!=Z?u.clone():u),(t|k)==l){var j=(L.w-this.$22n.$23n(u.$24n))/L.$22n.$23n(_.$24n.$13n(u.$24n)),H=u.$18n(_,j);B.push(H),c.push(H.clone())}}B.length>=3&&K.push(new lr(B,w.$10n)),c.length>=3&&P.push(new lr(c,w.$10n))}}};var lr=function(b,w){var Q=this;Q.$9n=b,Q.$10n=w,Q.$8n=Pr.$17n(b[0].$24n,b[1].$24n,b[2].$24n)};lr.prototype={clone:function(){var c=this.$9n.map(function(L){return L.clone()});return new lr(c,this.$10n)},flip:function(){this.$9n.reverse().map(function(B){B.flip()}),this.$8n.flip()}};var _l=function(Z){var l=this;l.$8n=null,l.front=null,l.back=null,l.$4n=[],Z&&l.$7n(Z)};_l.prototype={clone:function(){var w=this,b=new _l;return b.$8n=w.$8n&&w.$8n.clone(),b.front=w.front&&w.front.clone(),b.back=w.back&&w.back.clone(),b.$4n=w.$4n.map(function(E){return E.clone()}),b},$6n:function(){for(var $=this,Q=0;Q<$.$4n.length;Q++)$.$4n[Q].flip();$.$8n.flip(),$.front&&$.front.$6n(),$.back&&$.back.$6n();var x=$.front;$.front=$.back,$.back=x},$1n:function(v){var _=this;if(!_.$8n)return v.slice();for(var k=[],j=[],V=0;V<v.length;V++)_.$8n.$5n(v[V],k,j,k,j);return _.front&&(k=_.front.$1n(k)),j=_.back?_.back.$1n(j):[],k.concat(j)},$3n:function(c){var k=this;k.$4n=c.$1n(k.$4n),k.front&&k.front.$3n(c),k.back&&k.back.$3n(c)},$2n:function(){var d=this,P=d.$4n.slice();return d.front&&(P=P.concat(d.front.$2n())),d.back&&(P=P.concat(d.back.$2n())),P},$7n:function(h){var $=this;if(h.length){$.$8n||($.$8n=h[0].$8n.clone());for(var N=[],S=[],E=0;E<h.length;E++)this.$8n.$5n(h[E],$.$4n,$.$4n,N,S);N.length&&($.front||($.front=new _l),this.front.$7n(N)),S.length&&($.back||($.back=new _l),$.back.$7n(S))}}};var Jg="symbol",$n=F.Symbol=function(a,s,K){var J=this;U($n,J),J.s3(20,20,20),J.s({"all.visible":!1,shape:"rect"}),J.setIcon(a,s,K)};J("Symbol",P,{setIcon:function(e,C,p){var K,h=this;return $n.superClass.setIcon.call(h,e),e?(K={for3d:!0,face:"center",position:44,names:[e]},p&&(K.transaprent=!0),C&&(K.autorotate=C),h.addStyleIcon(Jg,K)):h.removeStyleIcon(Jg),h.setWidth(B.getImageWidth(a.getImage(e),h)||20),K}});var Tl=F.CSGNode=function(){U(Tl,this),this.s({shape:"rect","attach.thickness":1.001})},Np={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};J("CSGNode",P,{_22Q:function(){return es},onPropertyChanged:function(Q){var C=this,j=C.getHost();Tl.superClass.onPropertyChanged.call(C,Q),Np[Q.property]&&(j instanceof Zm||j instanceof Tl)&&j.fp("csgNodeChange",!0,!1)}});var es=function(z,w){U(es,this,[z,w])};p(es,R.Node3dUI,{_80o:function(A,l,a){var I=this;I._shape3d?es.superClass._80o.call(I,A,l,a):(W(I.gv),Nh.forEach(function(z){T(I,A,l,I[z],a)}))},validate:function(L,a){var J=this,r=J.gv,M=J.data;if(M.s("shape3d"))return es.superClass.validate.call(J,L,a),J._shape3d=!0,void 0;J._shape3d=!1;var V=E(M,r.getMat(M)),Z=L&&L.uv;J.vf2("csg",Z);for(var v=0;6>v;v++)for(var P=Ir[v],z=Oh[v],A=J.vf2(P,Z,a),j=A.mat||V,h=A.vs,D=A.uv,q=A.tuv,I=0;2>I;I++){var c=Y[z+3*I],G=Y[z+3*I+1],l=Y[z+3*I+2];if(s(h,j,[g[3*c],g[3*c+1],g[3*c+2]]),s(h,j,[g[3*G],g[3*G+1],g[3*G+2]]),s(h,j,[g[3*l],g[3*l+1],g[3*l+2]]),q)if(D){var m=8*v;q.push(D[2*c-m],D[2*c+1-m],D[2*G-m],D[2*G+1-m],D[2*l-m],D[2*l+1-m])}else q.push(S[2*c],S[2*c+1],S[2*G],S[2*G+1],S[2*l],S[2*l+1])}Ak(J,L,a)},vf2:function(n,W,g){var t,c=this,T=c.gv.getFaceVisible(c.data,n);return t=r(c,n,g),t.vs=[],t.tuv=T&&(t.texture||W)?[]:o,t.visible=T,t}});var Zm=F.CSGShape=function(){var s=this;U(Zm,s),s.s({"shape.background":o,"shape.border.width":8}),s.setTall(240),s.setElevation(120),s.setThickness(14)};J("CSGShape",m,{IRotatable:!1,_22Q:function(){return ib},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var ib=function(n,J){U(ib,this,[n,J])};p(ib,R.Shape3dUI,{_80o:function(A,x,w){var P=this;P.undrawable||(W(P.gv),Nh.forEach(function(z){T(P,A,x,P[z],w)}))},validate:function(R,c){var s=this,t=s.data,h=t.getPoints();if(s.undrawable=h.size()<2)return s.clear(),void 0;var O=t.isClosePath(),z=w(t._thickness/2,A),M=f(h,o,o,O);Nh.forEach(function(C){s.vf(C,R&&R.uv,!0,c)}),O&&(s.left.visible=!1,s.right.visible=!1),s._12O(M,z),s._20Q(M),Ak(s,R,c)}});var Fe=F.DoorWindow=function(){var b=this;U(Fe,b),b.setElevation(100),b.s3(100,200,14)};J("DoorWindow",Tl,{IDoorWindow:!0,toggle:function(S){this.setExpanded(!this.s(X),S)},isExpanded:function(){return this.s(X)},setExpanded:function(H,A){var e,L=this,d=L.$25n,s=L.getDataModel(),p=L.s(X);if(s&&(e=s.getHistoryManager()),d&&(d.stop(!0),delete L.$25n),p!==H){e&&e.beginInteraction();var j=H?L.s("dw.end"):L.s("dw.start");L.s(X,H),A=n(A),A?(p=L.s(_),A.action=function(W){L.s(_,p+(j-p)*W)},A.finishFunc=function(){e&&e.endInteraction()},L.$25n=C(A)):(L.s(_,j),e&&e.endInteraction())}},getMat:function(){var J=this,m=J.s("dw.s3"),Q=J.s("dw.t3"),F=J.s("dw.flip"),K=J.s(_);if(m||K||Q||F){var w=[];if(F&&w.push({r3:[0,h,0]}),m&&w.push({s3:m}),K){m=J.s3();var B=J.s("dw.axis"),x=m[0]/2,A=m[1]/2;m[2]/2,B===q?w.push({t3:[x,0,0]},{r3:[0,-K,0]},{t3:[-x,0,0]}):B===H?w.push({t3:[-x,0,0]},{r3:[0,K,0]},{t3:[x,0,0]}):B===N?w.push({t3:[0,-A,0]},{r3:[-K,0,0]},{t3:[0,A,0]}):B===I?w.push({t3:[0,A,0]},{r3:[K,0,0]},{t3:[0,-A,0]}):B===t?w.push({r3:[0,K,0]}):B===Z&&w.push({r3:[K,0,0]})}return Q&&w.push({t3:Q}),V(w)}return o}});var Ac=F.CSGBox=function(){var L=this;U(Ac,L),L.setElevation(100),L.s3(100,200,100)};J("CSGBox",Tl,{ICSGBox:!0,toggleFace:function(s,L){this.setFaceExpanded(s,!this.s(s+i),L)},isFaceExpanded:function(V){return this.s(V+i)},setFaceExpanded:function(J,$,o){var O=this,N=O.$25n,d=O.s(J+i);if(N&&(N.stop(!0),delete O.$25n),d!==$){var w=$?O.s(J+".end"):O.s(J+".start");O.s(J+i,$),o=n(o),o?(d=O.s(J+v),o.action=function(i){O.s(J+v,d+(w-d)*i)},O.$25n=C(o)):O.s(J+v,w)}},getFaceMat:function(O){var E=this,j=E.s(O+v);if(!j)return o;var R=E.s(O+".axis"),F=E.s3(),b=F[0]/2,h=F[1]/2,S=F[2]/2,y=[];return O===D&&(R===q?y.push({t3:[b,0,-S]},{r3:[0,-j,0]},{t3:[-b,0,S]}):R===H?y.push({t3:[-b,0,-S]},{r3:[0,j,0]},{t3:[b,0,S]}):R===N?y.push({t3:[0,-h,-S]},{r3:[-j,0,0]},{t3:[0,h,S]}):R===I?y.push({t3:[0,h,-S]},{r3:[j,0,0]},{t3:[0,-h,S]}):R===t?y.push({t3:[0,0,-S]},{r3:[0,j,0]},{t3:[0,0,S]}):R===Z&&y.push({t3:[0,0,-S]},{r3:[j,0,0]},{t3:[0,0,S]})),O===M&&(R===q?y.push({t3:[-b,0,S]},{r3:[0,-j,0]},{t3:[b,0,-S]}):R===H?y.push({t3:[b,0,S]},{r3:[0,j,0]},{t3:[-b,0,-S]}):R===N?y.push({t3:[0,-h,S]},{r3:[j,0,0]},{t3:[0,h,-S]}):R===I?y.push({t3:[0,h,S]},{r3:[-j,0,0]},{t3:[0,-h,-S]}):R===t?y.push({t3:[0,0,S]},{r3:[0,j,0]},{t3:[0,0,-S]}):R===Z&&y.push({t3:[0,0,S]},{r3:[j,0,0]},{t3:[0,0,-S]})),O===q&&(R===q?y.push({t3:[b,0,S]},{r3:[0,-j,0]},{t3:[-b,0,-S]}):R===H?y.push({t3:[b,0,-S]},{r3:[0,j,0]},{t3:[-b,0,S]}):R===N?y.push({t3:[b,-h,0]},{r3:[0,0,-j]},{t3:[-b,h,0]}):R===I?y.push({t3:[b,h,0]},{r3:[0,0,j]},{t3:[-b,-h,0]}):R===t?y.push({t3:[b,0,0]},{r3:[0,j,0]},{t3:[-b,0,0]}):R===Z&&y.push({t3:[b,0,0]},{r3:[0,0,j]},{t3:[-b,0,0]})),O===H&&(R===q?y.push({t3:[-b,0,-S]},{r3:[0,-j,0]},{t3:[b,0,S]}):R===H?y.push({t3:[-b,0,S]},{r3:[0,j,0]},{t3:[b,0,-S]}):R===N?y.push({t3:[-b,-h,0]},{r3:[0,0,j]},{t3:[b,h,0]}):R===I?y.push({t3:[-b,h,0]},{r3:[0,0,-j]},{t3:[b,-h,0]}):R===t?y.push({t3:[-b,0,0]},{r3:[0,j,0]},{t3:[b,0,0]}):R===Z&&y.push({t3:[-b,0,0]},{r3:[0,0,j]},{t3:[b,0,0]})),O===N&&(R===q?y.push({t3:[b,-h,0]},{r3:[0,0,j]},{t3:[-b,h,0]}):R===H?y.push({t3:[-b,-h,0]},{r3:[0,0,-j]},{t3:[b,h,0]}):R===N?y.push({t3:[0,-h,S]},{r3:[-j,0,0]},{t3:[0,h,-S]}):R===I?y.push({t3:[0,-h,-S]},{r3:[j,0,0]},{t3:[0,h,S]}):R===t?y.push({t3:[0,-h,0]},{r3:[0,0,j]},{t3:[0,h,0]}):R===Z&&y.push({t3:[0,-h,0]},{r3:[j,0,0]},{t3:[0,h,0]})),O===I&&(R===q?y.push({t3:[b,h,0]},{r3:[0,0,-j]},{t3:[-b,-h,0]}):R===H?y.push({t3:[-b,h,0]},{r3:[0,0,j]},{t3:[b,-h,0]}):R===N?y.push({t3:[0,h,-S]},{r3:[-j,0,0]},{t3:[0,-h,S]}):R===I?y.push({t3:[0,h,S]},{r3:[j,0,0]},{t3:[0,-h,-S]}):R===t?y.push({t3:[0,h,0]},{r3:[0,0,j]},{t3:[0,-h,0]}):R===Z&&y.push({t3:[0,h,0]},{r3:[j,0,0]},{t3:[0,-h,0]})),V(y)}})}(this,Object);