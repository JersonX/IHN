!function(g,a){"use strict";var l="ht",X=l+".graph.",i=g[l],N=i.graph,f=i.Default,K=i.Color,O=null,J="px",W=f.getInternal(),e=W.getPinchDist,Q=f.preventDefault,w=f.getTouchCount,P=f.startDragging;W.addMethod(f,{overviewBackground:K.widgetBackground,overviewMaskBackground:K.transparent,overviewContentBorderColor:K.widgetBorder,overviewContentBackground:K.background},!0),N.Overview=function(B){var q=this,C=q._view=W.createDiv(1);q._canvas=W.createCanvas(C),C.style.background=f.overviewBackground,C.appendChild(q._mask=W.createDiv()),q.gv=B,q.redraw(),q.addListeners(),B.addViewListener(q.handleView,q)},f.def(X+"Overview",a,{ms_v:1,ms_fire:1,ms_listener:1,ms_ac:["maskBackground","contentBorderColor","contentBackground","autoUpdate"],_autoUpdate:!0,_rate:1,_scrollRect:{x:0,y:0,width:0,height:0},_maskBackground:f.overviewMaskBackground,_contentBorderColor:f.overviewContentBorderColor,_contentBackground:f.overviewContentBackground,getCanvas:function(){return this._canvas},getMask:function(){return this._mask},dispose:function(){var W=this;W.gv.removeViewListener(W.handleView,W)},onPropertyChanged:function(){this.redraw()},handleView:function(T){this._autoUpdate&&"validate"===T.kind&&this.redraw()},redraw:function(){var V=this;V._redraw||(V._redraw=1,V.iv(50))},validateImpl:function(){var A=this,w=A.gv,y=A._canvas,k=A._mask,E=k.style,H=A.getWidth(),b=A.getHeight(),Q=w.getViewRect(),d=w.getScrollRect(),i=d.x,x=d.y,n=d.width,u=d.height,L=A._rate=Math.max(n/H,u/b),p=A._x=(H-n/L)/2,$=A._y=(b-u/L)/2,S=A._redraw;if(0!==Q.width&&0!==Q.height||A.hasRetry||(f.callLater(A.iv,A,O),A.hasRetry=!0),(H!==y.clientWidth||b!==y.clientHeight)&&(W.setCanvas(y,H,b,1),S=1),W.isSameRect(d,A._scrollRect)||(A._scrollRect=d,S=1),S){var h=W.initContext(y),V=A._contentBackground,r=A._contentBorderColor;h.clearRect(0,0,H,b),V&&W.fillRect(h,p,$,n/L,u/L,V),r&&W.drawBorder(h,r,p,$,n/L,u/L),h.translate(-i/L+p,-x/L+$),h.scale(1/L,1/L),w._42(h),h.restore()}E.background=A._maskBackground,E.left=p+(Q.x-i)/L+J,E.top=$+(Q.y-x)/L+J,E.width=Q.width/L+J,E.height=Q.height/L+J,delete A._redraw},center:function(L){var p=this,_=p.gv,e=_._zoom,B=_._29I,H=p._rate,T=p._scrollRect,P=f.getLogicalPoint(L,p._canvas),j=T.x+(P.x-p._x)*H,Y=T.y+(P.y-p._y)*H;_.setTranslate((B.width/2-j)*e,(B.height/2-Y)*e)},handle_mousedown:function(c){this.handle_touchstart(c)},handleWindowMouseUp:function(T){this.handleWindowTouchEnd(T)},handleWindowMouseMove:function(X){this.handleWindowTouchMove(X)},handle_mousewheel:function(X){this.handleScroll(X,X.wheelDelta)},handle_DOMMouseScroll:function(o){2===o.axis&&this.handleScroll(o,-o.detail)},handleScroll:function(L,e){Q(L);var u=this.gv;e>0?u.scrollZoomIn():0>e&&u.scrollZoomOut()},handle_touchstart:function(k){if(Q(k),f.isLeftButton(k)){var R=this,W=R.gv,h=w(k);1===h?f.isDoubleClick(k)&&W.isResettable()?W.reset():(R.center(k),P(R,k)):2===h&&(R._dist=e(k),P(R,k))}},handleWindowTouchEnd:function(){delete this._dist},handleWindowTouchMove:function(A){var q=this,u=q._dist,M=w(A);1===M?q.center(A):2===M&&u!=O&&q.gv.handlePinch(O,e(A),u)}})}(this,Object);