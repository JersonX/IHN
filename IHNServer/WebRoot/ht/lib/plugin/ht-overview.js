!function(k,e){"use strict";var s="ht",O=s+".graph.",Q=k[s],E=Q.graph,i=Q.Default,V=Q.Color,n=null,S="px",j=i.getInternal(),q=j.getPinchDist,Y=i.preventDefault,T=i.getTouchCount,R=i.startDragging;j.addMethod(i,{overviewBackground:V.widgetBackground,overviewMaskBackground:V.transparent,overviewContentBorderColor:V.widgetBorder,overviewContentBackground:V.background},!0),E.Overview=function(g){var x=this,P=x._view=j.createDiv(1);x._canvas=j.createCanvas(P),P.style.background=i.overviewBackground,P.appendChild(x._mask=j.createDiv()),x.gv=g,x.redraw(),x.addListeners(),g.addViewListener(x.handleView,x)},i.def(O+"Overview",e,{ms_v:1,ms_fire:1,ms_listener:1,ms_ac:["maskBackground","contentBorderColor","contentBackground","autoUpdate"],_autoUpdate:!0,_rate:1,_scrollRect:{x:0,y:0,width:0,height:0},_maskBackground:i.overviewMaskBackground,_contentBorderColor:i.overviewContentBorderColor,_contentBackground:i.overviewContentBackground,getCanvas:function(){return this._canvas},getMask:function(){return this._mask},dispose:function(){var W=this;W.gv.removeViewListener(W.handleView,W)},onPropertyChanged:function(){this.redraw()},handleView:function(h){this._autoUpdate&&"validate"===h.kind&&this.redraw()},redraw:function(){var n=this;n._redraw||(n._redraw=1,n.iv(50))},validateImpl:function(){var g=this,p=g.gv,Y=g._canvas,L=g._mask,h=L.style,z=g.getWidth(),s=g.getHeight(),q=p.getViewRect(),Q=p.getScrollRect(),x=Q.x,X=Q.y,b=Q.width,C=Q.height,u=g._rate=Math.max(b/z,C/s),y=g._x=(z-b/u)/2,J=g._y=(s-C/u)/2,T=g._redraw;if(0!==q.width&&0!==q.height||g.hasRetry||(i.callLater(g.iv,g,n),g.hasRetry=!0),(z!==Y.clientWidth||s!==Y.clientHeight)&&(j.setCanvas(Y,z,s,1),T=1),j.isSameRect(Q,g._scrollRect)||(g._scrollRect=Q,T=1),T){var o=j.initContext(Y),t=g._contentBackground,a=g._contentBorderColor;o.clearRect(0,0,z,s),t&&j.fillRect(o,y,J,b/u,C/u,t),a&&j.drawBorder(o,a,y,J,b/u,C/u),o.translate(-x/u+y,-X/u+J),o.scale(1/u,1/u),p._42(o),o.restore()}h.background=g._maskBackground,h.left=y+(q.x-x)/u+S,h.top=J+(q.y-X)/u+S,h.width=q.width/u+S,h.height=q.height/u+S,delete g._redraw},center:function(k){var s=this,z=s.gv,y=z._zoom,V=z._29I,e=s._rate,x=s._scrollRect,X=i.getLogicalPoint(k,s._canvas),E=x.x+(X.x-s._x)*e,j=x.y+(X.y-s._y)*e;z.setTranslate((V.width/2-E)*y,(V.height/2-j)*y)},handle_mousedown:function(f){this.handle_touchstart(f)},handleWindowMouseUp:function(d){this.handleWindowTouchEnd(d)},handleWindowMouseMove:function(X){this.handleWindowTouchMove(X)},handle_mousewheel:function(w){this.handleScroll(w,w.wheelDelta)},handle_DOMMouseScroll:function(u){2===u.axis&&this.handleScroll(u,-u.detail)},handleScroll:function(Z,E){Y(Z);var l=this.gv;E>0?l.scrollZoomIn():0>E&&l.scrollZoomOut()},handle_touchstart:function(z){if(Y(z),i.isLeftButton(z)){var M=this,m=M.gv,r=T(z);1===r?i.isDoubleClick(z)&&m.isResettable()?m.reset():(M.center(z),R(M,z)):2===r&&(M._dist=q(z),R(M,z))}},handleWindowTouchEnd:function(){delete this._dist},handleWindowTouchMove:function(t){var R=this,_=R._dist,L=T(t);1===L?R.center(t):2===L&&_!=n&&R.gv.handlePinch(n,q(t),_)}})}(this,Object);